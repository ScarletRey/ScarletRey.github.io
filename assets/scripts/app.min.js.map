{"version":3,"sources":["webpack:///webpack/bootstrap 71695dfc917fa7c59511","webpack:///./app/scripts/app.js","webpack:///./~/svg4everybody/dist/svg4everybody.js","webpack:///./app/scripts/lib/jquery.fancybox.js"],"names":["$","on","e","preventDefault","target","hash","$target","stop","animate","offset","top","click","toggleClass","parent","rangeSlider","slider","range","value","each","prev","attr","text","next","children","slideToggle","btnNum","index","removeClass","addClass","owlCarousel","animateOut","animateIn","mouseDrag","touchDrag","loop","nav","dots","items","navText","autoplay","autoplayHoverPause","autoplayTimeout","autoplaySpeed","margin","responsive","dotsData","prepend","window","document","undefined","fn","fancybox","console","log","defaults","gutter","keyboard","arrows","infobar","toolbar","buttons","idleTime","smallBtn","protect","modal","image","preload","ajax","settings","data","iframe","tpl","css","scrolling","defaultType","animationEffect","animationDuration","zoomOpacity","transitionEffect","transitionDuration","slideClass","baseClass","baseTpl","spinnerTpl","errorTpl","btnTpl","download","zoom","close","arrowLeft","arrowRight","parentEl","autoFocus","backFocus","trapFocus","fullScreen","autoStart","touch","vertical","momentum","media","slideShow","speed","thumbs","hideOnClose","axis","onInit","noop","beforeLoad","afterLoad","beforeShow","afterShow","beforeClose","afterClose","onActivate","onDeactivate","clickContent","current","event","type","clickSlide","clickOutside","dblclickContent","dblclickSlide","dblclickOutside","mobile","lang","i18n","CLOSE","NEXT","PREV","ERROR","PLAY_START","PLAY_STOP","FULL_SCREEN","THUMBS","DOWNLOAD","SHARE","ZOOM","$W","$D","called","isQuery","obj","hasOwnProperty","requestAFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","callback","setTimeout","transitionEnd","t","el","createElement","transitions","style","forceRedraw","$el","length","offsetHeight","FancyBox","content","opts","self","extend","isMobile","isArray","id","group","currIndex","parseInt","prevIndex","prevPos","currPos","firstRun","createGroup","$lastFocus","activeElement","blur","slides","init","prototype","firstItem","firstItemOpts","scrollbarWidth","$scrollDiv","$container","buttonStr","scrollTop","scrollLeft","getInstance","test","navigator","userAgent","MSStream","body","scrollHeight","innerHeight","appendTo","offsetWidth","clientWidth","remove","append","translate","replace","$refs","container","forEach","item","find","trigger","activate","jumpTo","str","arr","match","n","makeArray","i","$item","src","srcParts","isPlainObject","options","$orig","charAt","$thumb","caption","apply","split","shift","filter","inArray","push","addEvents","removeEvents","stopPropagation","previous","isScaledDown","originalEvent","update","stage","hide","show","instance","isClosing","hasClass","is","has","focus","keycode","keyCode","which","idleSecondsCounter","isIdle","showControls","idleInterval","setInterval","hideControls","off","clearInterval","duration","pos","slide","canvasWidth","currentPos","transitionProps","groupLen","isSliding","isAnimating","createSlide","updateControls","getTranslate","$slide","isMoved","left","forcedDuration","isNumeric","loadSlide","Math","round","width","removeAttr","complete","isLoaded","revealContent","isComplete","updateSlide","scaleToActual","x","y","$what","$content","imgPos","posX","posY","scaleX","scaleY","canvasHeight","height","newImgWidth","newImgHeight","hasError","updateCursor","SlideShow","isActive","scaleToFit","end","getFitPos","imgWidth","imgHeight","minRatio","min","floor","key","setTranslate","nextWidth","nextHeight","isZoomable","fitPos","isFunction","rez","canPan","abs","ajaxLoad","isLoading","setImage","setIframe","setContent","setError","showLoading","url","success","textStatus","error","jqXHR","one","abort","srcset","found","temp","pxRatio","windowWidth","devicePixelRatio","innerWidth","map","ret","trim","substring","postfix","sort","a","b","j","thumb","$ghost","setBigImage","$img","$image","clearTimeout","timouts","naturalWidth","naturalHeight","hideLoading","max","readyState","$iframe","Date","getTime","isReady","$wrap","frameWidth","frameHeight","scrollWidth","$contents","$body","contents","ignore","contentWindow","documentElement","ceil","outerWidth","outerHeight","empty","$placeholder","insertAfter","nodeType","html","after","$smallBtn","$spinner","first","button","effect","effectClassName","opacity","start","getThumbPos","isElementVisible","element","elementRect","getBoundingClientRect","parentRects","visibleInAllParents","parentElement","every","parentRect","visiblePixelX","right","visiblePixelY","bottom","thumbPos","slidePos","ownerDocument","parseFloat","siblings","isVisible","d","done","cleanUp","name","args","Array","slice","call","arguments","unshift","force","$caption","isHiddenControls","prop","toggleControls","version","command","open","all","destroy","createTouch","use3d","div","getComputedStyle","getPropertyValue","documentMode","matrix","eq","indexOf","transRegex","transRez","exec","props","position","transform","to","leaveAnimationName","propertyName","_run","currentTarget","isDefaultPrevented","selector","jQuery","format","params","param","youtube","matcher","autohide","fs","rel","hd","wmode","enablejsapi","html5","paramPlace","vimeo","show_title","show_byline","show_portrait","fullscreen","api","metacafe","dailymotion","additionalInfos","vine","instagram","gmap_place","gmap_search","urlParams","paramObj","provider","providerName","providerOpts","m","p","decodeURIComponent","contentProvider","cancelAFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","pointers","result","touches","changedTouches","pageX","pageY","clientX","clientY","distance","point2","point1","what","sqrt","pow","isClickable","get","onclick","atts","attributes","nodeName","substr","hasScrollbars","overflowY","overflowX","clientHeight","horizontal","isScrollable","Guestures","$bg","bg","$stage","proxy","ontouchstart","isTouchDevice","startPoints","canTap","startTime","distanceX","distanceY","isPanning","isSwiping","isZooming","sliderStartPos","sliderLastPos","contentStartPos","contentLastPos","centerPointStartX","centerPointStartY","percentageOfImageAtPinchPointX","percentageOfImageAtPinchPointY","startDistanceBetweenFingers","ontouchmove","newPoints","onSwipe","onPan","onZoom","swiping","angle","atan2","PI","inTransition","requestId","newOffsetX","newOffsetY","newPos","limitMovement","newWidth","newHeight","minTranslateX","minTranslateY","maxTranslateX","maxTranslateY","currentOffsetX","currentOffsetY","limitPosition","currentWidth","currentHeight","endDistanceBetweenFingers","pinchRatio","translateFromZoomingX","translateFromZoomingY","centerPointEndX","centerPointEndY","translateFromTranslatingX","translateFromTranslatingY","ontouchend","dMs","panning","zooming","endPoints","onTap","velocityX","velocityY","speedX","endPanning","endZooming","endSwiping","reset","tapX","tapY","where","process","prefix","action","startEvent","tapped","timer","$button","toggle","set","clear","keypress","hidden","fnMap","val","FullScreen","request","elem","requestFullscreen","ALLOW_KEYBOARD_INPUT","exit","exitFullscreen","isFullscreen","Boolean","fullscreenElement","enabled","fullscreenEnabled","fullscreenchange","FancyThumbs","$grid","$list","Thumbs","second","create","list","addBack","$parent","thumbWidth","thumbHeight","widthRatio","heightRatio","share","f","location","encodeURIComponent","escapeSelector","sel","rcssescape","fcssescape","ch","asCodePoint","charCodeAt","toString","shouldCreateHistory","currentHash","timerID","parseUrl","pop","gallery","join","triggerFromUrl","getGalleryID","origHash","history","title","pathname","search","replaceState"],"mappings":";AAAA;AACA;AACA,mEAA2D;AAC3D;AACA;AACA;;AAEA,oDAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kDAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA;AACA,cAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA,mCAA2B;AAC3B;AACA,YAAI;AACJ;AACA,WAAG;AACH;AACA;;AAEA;AACA,sDAA8C;AAC9C;AACA,qCAA6B;;AAE7B,+CAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;AACN,aAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAS;AACT;AACA;AACA;AACA;AACA,eAAO;AACP,cAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA;AACA,aAAK;AACL,YAAI;AACJ;AACA;AACA;AACA;;AAEA,8CAAsC;AACtC;AACA;AACA,qCAA6B;AAC7B,qCAA6B;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAAoB,gBAAgB;AACpC;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,4BAAoB,gBAAgB;AACpC;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA;AACA,aAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA,aAAK;AACL;AACA;AACA;AACA,aAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,yBAAiB,8BAA8B;AAC/C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAAkB,qBAAqB;AACvC;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;;AAEA,4DAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA,YAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAAmB,2BAA2B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,0BAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yBAAiB,4BAA4B;AAC7C;AACA;AACA;AACA;AACA;AACA,cAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,0BAAkB,4BAA4B;AAC9C;AACA;AAC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AZc,EAA/B;;AAeA,kB;;;;;;AC3JA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,yBAAyB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yFAAwF;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,qBAAqB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA,8BAA6B;AAC7B;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA,6BAA4B,gEAAgE;AAC5F;AACA;AACA;AACA,EAAC,E;;;;;;;;ACzGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAUK,MAAV,EAAkBC,QAAlB,EAA4BhD,CAA5B,EAA+BiD,SAA/B,EAA0C;AACxC;;AAEA;AACA;;AAEA,SAAK,CAACjD,CAAN,EAAU;AACN;AACH;;AAED;AACA;;AAEA,SAAKA,EAAEkD,EAAF,CAAKC,QAAV,EAAqB;;AAEjB,aAAK,aAAaJ,MAAlB,EAA2B;AACvBK,qBAAQC,GAAR,CAAa,8BAAb;AACH;;AAED;AACH;;AAED;AACA;;AAEA,SAAIC,WAAW;;AAEX;AACApB,eAAO,KAHI;;AAKX;AACAS,iBAAS,CAAC,EAAD,EAAK,CAAL,CANE;;AAQX;AACAY,iBAAS,EATE;;AAWX;AACAC,mBAAW,IAZA;;AAcX;AACAC,iBAAS,IAfE;;AAiBX;AACAC,kBAAU,IAlBC;;AAoBX;AACAC,kBAAU,IArBC;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","file":"app.min.js","sourcesContent":[" \tvar parentHotUpdateCallback = this[\"webpackHotUpdate\"];\n \tthis[\"webpackHotUpdate\"] = \r\n \tfunction webpackHotUpdateCallback(chunkId, moreModules) { // eslint-disable-line no-unused-vars\r\n \t\thotAddUpdateChunk(chunkId, moreModules);\r\n \t\tif(parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);\r\n \t}\r\n \t\r\n \tfunction hotDownloadUpdateChunk(chunkId) { // eslint-disable-line no-unused-vars\r\n \t\tvar head = document.getElementsByTagName(\"head\")[0];\r\n \t\tvar script = document.createElement(\"script\");\r\n \t\tscript.type = \"text/javascript\";\r\n \t\tscript.charset = \"utf-8\";\r\n \t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + hotCurrentHash + \".hot-update.js\";\r\n \t\thead.appendChild(script);\r\n \t}\r\n \t\r\n \tfunction hotDownloadManifest(callback) { // eslint-disable-line no-unused-vars\r\n \t\tif(typeof XMLHttpRequest === \"undefined\")\r\n \t\t\treturn callback(new Error(\"No browser support\"));\r\n \t\ttry {\r\n \t\t\tvar request = new XMLHttpRequest();\r\n \t\t\tvar requestPath = __webpack_require__.p + \"\" + hotCurrentHash + \".hot-update.json\";\r\n \t\t\trequest.open(\"GET\", requestPath, true);\r\n \t\t\trequest.timeout = 10000;\r\n \t\t\trequest.send(null);\r\n \t\t} catch(err) {\r\n \t\t\treturn callback(err);\r\n \t\t}\r\n \t\trequest.onreadystatechange = function() {\r\n \t\t\tif(request.readyState !== 4) return;\r\n \t\t\tif(request.status === 0) {\r\n \t\t\t\t// timeout\r\n \t\t\t\tcallback(new Error(\"Manifest request to \" + requestPath + \" timed out.\"));\r\n \t\t\t} else if(request.status === 404) {\r\n \t\t\t\t// no update available\r\n \t\t\t\tcallback();\r\n \t\t\t} else if(request.status !== 200 && request.status !== 304) {\r\n \t\t\t\t// other failure\r\n \t\t\t\tcallback(new Error(\"Manifest request to \" + requestPath + \" failed.\"));\r\n \t\t\t} else {\r\n \t\t\t\t// success\r\n \t\t\t\ttry {\r\n \t\t\t\t\tvar update = JSON.parse(request.responseText);\r\n \t\t\t\t} catch(e) {\r\n \t\t\t\t\tcallback(e);\r\n \t\t\t\t\treturn;\r\n \t\t\t\t}\r\n \t\t\t\tcallback(null, update);\r\n \t\t\t}\r\n \t\t};\r\n \t}\r\n\n \t\r\n \t\r\n \t// Copied from https://github.com/facebook/react/blob/bef45b0/src/shared/utils/canDefineProperty.js\r\n \tvar canDefineProperty = false;\r\n \ttry {\r\n \t\tObject.defineProperty({}, \"x\", {\r\n \t\t\tget: function() {}\r\n \t\t});\r\n \t\tcanDefineProperty = true;\r\n \t} catch(x) {\r\n \t\t// IE will fail on defineProperty\r\n \t}\r\n \t\r\n \tvar hotApplyOnUpdate = true;\r\n \tvar hotCurrentHash = \"71695dfc917fa7c59511\"; // eslint-disable-line no-unused-vars\r\n \tvar hotCurrentModuleData = {};\r\n \tvar hotCurrentParents = []; // eslint-disable-line no-unused-vars\r\n \t\r\n \tfunction hotCreateRequire(moduleId) { // eslint-disable-line no-unused-vars\r\n \t\tvar me = installedModules[moduleId];\r\n \t\tif(!me) return __webpack_require__;\r\n \t\tvar fn = function(request) {\r\n \t\t\tif(me.hot.active) {\r\n \t\t\t\tif(installedModules[request]) {\r\n \t\t\t\t\tif(installedModules[request].parents.indexOf(moduleId) < 0)\r\n \t\t\t\t\t\tinstalledModules[request].parents.push(moduleId);\r\n \t\t\t\t\tif(me.children.indexOf(request) < 0)\r\n \t\t\t\t\t\tme.children.push(request);\r\n \t\t\t\t} else hotCurrentParents = [moduleId];\r\n \t\t\t} else {\r\n \t\t\t\tconsole.warn(\"[HMR] unexpected require(\" + request + \") from disposed module \" + moduleId);\r\n \t\t\t\thotCurrentParents = [];\r\n \t\t\t}\r\n \t\t\treturn __webpack_require__(request);\r\n \t\t};\r\n \t\tfor(var name in __webpack_require__) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(__webpack_require__, name)) {\r\n \t\t\t\tif(canDefineProperty) {\r\n \t\t\t\t\tObject.defineProperty(fn, name, (function(name) {\r\n \t\t\t\t\t\treturn {\r\n \t\t\t\t\t\t\tconfigurable: true,\r\n \t\t\t\t\t\t\tenumerable: true,\r\n \t\t\t\t\t\t\tget: function() {\r\n \t\t\t\t\t\t\t\treturn __webpack_require__[name];\r\n \t\t\t\t\t\t\t},\r\n \t\t\t\t\t\t\tset: function(value) {\r\n \t\t\t\t\t\t\t\t__webpack_require__[name] = value;\r\n \t\t\t\t\t\t\t}\r\n \t\t\t\t\t\t};\r\n \t\t\t\t\t}(name)));\r\n \t\t\t\t} else {\r\n \t\t\t\t\tfn[name] = __webpack_require__[name];\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\tfunction ensure(chunkId, callback) {\r\n \t\t\tif(hotStatus === \"ready\")\r\n \t\t\t\thotSetStatus(\"prepare\");\r\n \t\t\thotChunksLoading++;\r\n \t\t\t__webpack_require__.e(chunkId, function() {\r\n \t\t\t\ttry {\r\n \t\t\t\t\tcallback.call(null, fn);\r\n \t\t\t\t} finally {\r\n \t\t\t\t\tfinishChunkLoading();\r\n \t\t\t\t}\r\n \t\r\n \t\t\t\tfunction finishChunkLoading() {\r\n \t\t\t\t\thotChunksLoading--;\r\n \t\t\t\t\tif(hotStatus === \"prepare\") {\r\n \t\t\t\t\t\tif(!hotWaitingFilesMap[chunkId]) {\r\n \t\t\t\t\t\t\thotEnsureUpdateChunk(chunkId);\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t\tif(hotChunksLoading === 0 && hotWaitingFiles === 0) {\r\n \t\t\t\t\t\t\thotUpdateDownloaded();\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t});\r\n \t\t}\r\n \t\tif(canDefineProperty) {\r\n \t\t\tObject.defineProperty(fn, \"e\", {\r\n \t\t\t\tenumerable: true,\r\n \t\t\t\tvalue: ensure\r\n \t\t\t});\r\n \t\t} else {\r\n \t\t\tfn.e = ensure;\r\n \t\t}\r\n \t\treturn fn;\r\n \t}\r\n \t\r\n \tfunction hotCreateModule(moduleId) { // eslint-disable-line no-unused-vars\r\n \t\tvar hot = {\r\n \t\t\t// private stuff\r\n \t\t\t_acceptedDependencies: {},\r\n \t\t\t_declinedDependencies: {},\r\n \t\t\t_selfAccepted: false,\r\n \t\t\t_selfDeclined: false,\r\n \t\t\t_disposeHandlers: [],\r\n \t\r\n \t\t\t// Module API\r\n \t\t\tactive: true,\r\n \t\t\taccept: function(dep, callback) {\r\n \t\t\t\tif(typeof dep === \"undefined\")\r\n \t\t\t\t\thot._selfAccepted = true;\r\n \t\t\t\telse if(typeof dep === \"function\")\r\n \t\t\t\t\thot._selfAccepted = dep;\r\n \t\t\t\telse if(typeof dep === \"object\")\r\n \t\t\t\t\tfor(var i = 0; i < dep.length; i++)\r\n \t\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback;\r\n \t\t\t\telse\r\n \t\t\t\t\thot._acceptedDependencies[dep] = callback;\r\n \t\t\t},\r\n \t\t\tdecline: function(dep) {\r\n \t\t\t\tif(typeof dep === \"undefined\")\r\n \t\t\t\t\thot._selfDeclined = true;\r\n \t\t\t\telse if(typeof dep === \"number\")\r\n \t\t\t\t\thot._declinedDependencies[dep] = true;\r\n \t\t\t\telse\r\n \t\t\t\t\tfor(var i = 0; i < dep.length; i++)\r\n \t\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\r\n \t\t\t},\r\n \t\t\tdispose: function(callback) {\r\n \t\t\t\thot._disposeHandlers.push(callback);\r\n \t\t\t},\r\n \t\t\taddDisposeHandler: function(callback) {\r\n \t\t\t\thot._disposeHandlers.push(callback);\r\n \t\t\t},\r\n \t\t\tremoveDisposeHandler: function(callback) {\r\n \t\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\r\n \t\t\t\tif(idx >= 0) hot._disposeHandlers.splice(idx, 1);\r\n \t\t\t},\r\n \t\r\n \t\t\t// Management API\r\n \t\t\tcheck: hotCheck,\r\n \t\t\tapply: hotApply,\r\n \t\t\tstatus: function(l) {\r\n \t\t\t\tif(!l) return hotStatus;\r\n \t\t\t\thotStatusHandlers.push(l);\r\n \t\t\t},\r\n \t\t\taddStatusHandler: function(l) {\r\n \t\t\t\thotStatusHandlers.push(l);\r\n \t\t\t},\r\n \t\t\tremoveStatusHandler: function(l) {\r\n \t\t\t\tvar idx = hotStatusHandlers.indexOf(l);\r\n \t\t\t\tif(idx >= 0) hotStatusHandlers.splice(idx, 1);\r\n \t\t\t},\r\n \t\r\n \t\t\t//inherit from previous dispose call\r\n \t\t\tdata: hotCurrentModuleData[moduleId]\r\n \t\t};\r\n \t\treturn hot;\r\n \t}\r\n \t\r\n \tvar hotStatusHandlers = [];\r\n \tvar hotStatus = \"idle\";\r\n \t\r\n \tfunction hotSetStatus(newStatus) {\r\n \t\thotStatus = newStatus;\r\n \t\tfor(var i = 0; i < hotStatusHandlers.length; i++)\r\n \t\t\thotStatusHandlers[i].call(null, newStatus);\r\n \t}\r\n \t\r\n \t// while downloading\r\n \tvar hotWaitingFiles = 0;\r\n \tvar hotChunksLoading = 0;\r\n \tvar hotWaitingFilesMap = {};\r\n \tvar hotRequestedFilesMap = {};\r\n \tvar hotAvailibleFilesMap = {};\r\n \tvar hotCallback;\r\n \t\r\n \t// The update info\r\n \tvar hotUpdate, hotUpdateNewHash;\r\n \t\r\n \tfunction toModuleId(id) {\r\n \t\tvar isNumber = (+id) + \"\" === id;\r\n \t\treturn isNumber ? +id : id;\r\n \t}\r\n \t\r\n \tfunction hotCheck(apply, callback) {\r\n \t\tif(hotStatus !== \"idle\") throw new Error(\"check() is only allowed in idle status\");\r\n \t\tif(typeof apply === \"function\") {\r\n \t\t\thotApplyOnUpdate = false;\r\n \t\t\tcallback = apply;\r\n \t\t} else {\r\n \t\t\thotApplyOnUpdate = apply;\r\n \t\t\tcallback = callback || function(err) {\r\n \t\t\t\tif(err) throw err;\r\n \t\t\t};\r\n \t\t}\r\n \t\thotSetStatus(\"check\");\r\n \t\thotDownloadManifest(function(err, update) {\r\n \t\t\tif(err) return callback(err);\r\n \t\t\tif(!update) {\r\n \t\t\t\thotSetStatus(\"idle\");\r\n \t\t\t\tcallback(null, null);\r\n \t\t\t\treturn;\r\n \t\t\t}\r\n \t\r\n \t\t\thotRequestedFilesMap = {};\r\n \t\t\thotAvailibleFilesMap = {};\r\n \t\t\thotWaitingFilesMap = {};\r\n \t\t\tfor(var i = 0; i < update.c.length; i++)\r\n \t\t\t\thotAvailibleFilesMap[update.c[i]] = true;\r\n \t\t\thotUpdateNewHash = update.h;\r\n \t\r\n \t\t\thotSetStatus(\"prepare\");\r\n \t\t\thotCallback = callback;\r\n \t\t\thotUpdate = {};\r\n \t\t\tvar chunkId = 0;\r\n \t\t\t{ // eslint-disable-line no-lone-blocks\r\n \t\t\t\t/*globals chunkId */\r\n \t\t\t\thotEnsureUpdateChunk(chunkId);\r\n \t\t\t}\r\n \t\t\tif(hotStatus === \"prepare\" && hotChunksLoading === 0 && hotWaitingFiles === 0) {\r\n \t\t\t\thotUpdateDownloaded();\r\n \t\t\t}\r\n \t\t});\r\n \t}\r\n \t\r\n \tfunction hotAddUpdateChunk(chunkId, moreModules) { // eslint-disable-line no-unused-vars\r\n \t\tif(!hotAvailibleFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])\r\n \t\t\treturn;\r\n \t\thotRequestedFilesMap[chunkId] = false;\r\n \t\tfor(var moduleId in moreModules) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\r\n \t\t\t\thotUpdate[moduleId] = moreModules[moduleId];\r\n \t\t\t}\r\n \t\t}\r\n \t\tif(--hotWaitingFiles === 0 && hotChunksLoading === 0) {\r\n \t\t\thotUpdateDownloaded();\r\n \t\t}\r\n \t}\r\n \t\r\n \tfunction hotEnsureUpdateChunk(chunkId) {\r\n \t\tif(!hotAvailibleFilesMap[chunkId]) {\r\n \t\t\thotWaitingFilesMap[chunkId] = true;\r\n \t\t} else {\r\n \t\t\thotRequestedFilesMap[chunkId] = true;\r\n \t\t\thotWaitingFiles++;\r\n \t\t\thotDownloadUpdateChunk(chunkId);\r\n \t\t}\r\n \t}\r\n \t\r\n \tfunction hotUpdateDownloaded() {\r\n \t\thotSetStatus(\"ready\");\r\n \t\tvar callback = hotCallback;\r\n \t\thotCallback = null;\r\n \t\tif(!callback) return;\r\n \t\tif(hotApplyOnUpdate) {\r\n \t\t\thotApply(hotApplyOnUpdate, callback);\r\n \t\t} else {\r\n \t\t\tvar outdatedModules = [];\r\n \t\t\tfor(var id in hotUpdate) {\r\n \t\t\t\tif(Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\r\n \t\t\t\t\toutdatedModules.push(toModuleId(id));\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t\tcallback(null, outdatedModules);\r\n \t\t}\r\n \t}\r\n \t\r\n \tfunction hotApply(options, callback) {\r\n \t\tif(hotStatus !== \"ready\") throw new Error(\"apply() is only allowed in ready status\");\r\n \t\tif(typeof options === \"function\") {\r\n \t\t\tcallback = options;\r\n \t\t\toptions = {};\r\n \t\t} else if(options && typeof options === \"object\") {\r\n \t\t\tcallback = callback || function(err) {\r\n \t\t\t\tif(err) throw err;\r\n \t\t\t};\r\n \t\t} else {\r\n \t\t\toptions = {};\r\n \t\t\tcallback = callback || function(err) {\r\n \t\t\t\tif(err) throw err;\r\n \t\t\t};\r\n \t\t}\r\n \t\r\n \t\tfunction getAffectedStuff(module) {\r\n \t\t\tvar outdatedModules = [module];\r\n \t\t\tvar outdatedDependencies = {};\r\n \t\r\n \t\t\tvar queue = outdatedModules.slice();\r\n \t\t\twhile(queue.length > 0) {\r\n \t\t\t\tvar moduleId = queue.pop();\r\n \t\t\t\tvar module = installedModules[moduleId];\r\n \t\t\t\tif(!module || module.hot._selfAccepted)\r\n \t\t\t\t\tcontinue;\r\n \t\t\t\tif(module.hot._selfDeclined) {\r\n \t\t\t\t\treturn new Error(\"Aborted because of self decline: \" + moduleId);\r\n \t\t\t\t}\r\n \t\t\t\tif(moduleId === 0) {\r\n \t\t\t\t\treturn;\r\n \t\t\t\t}\r\n \t\t\t\tfor(var i = 0; i < module.parents.length; i++) {\r\n \t\t\t\t\tvar parentId = module.parents[i];\r\n \t\t\t\t\tvar parent = installedModules[parentId];\r\n \t\t\t\t\tif(parent.hot._declinedDependencies[moduleId]) {\r\n \t\t\t\t\t\treturn new Error(\"Aborted because of declined dependency: \" + moduleId + \" in \" + parentId);\r\n \t\t\t\t\t}\r\n \t\t\t\t\tif(outdatedModules.indexOf(parentId) >= 0) continue;\r\n \t\t\t\t\tif(parent.hot._acceptedDependencies[moduleId]) {\r\n \t\t\t\t\t\tif(!outdatedDependencies[parentId])\r\n \t\t\t\t\t\t\toutdatedDependencies[parentId] = [];\r\n \t\t\t\t\t\taddAllToSet(outdatedDependencies[parentId], [moduleId]);\r\n \t\t\t\t\t\tcontinue;\r\n \t\t\t\t\t}\r\n \t\t\t\t\tdelete outdatedDependencies[parentId];\r\n \t\t\t\t\toutdatedModules.push(parentId);\r\n \t\t\t\t\tqueue.push(parentId);\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\r\n \t\t\treturn [outdatedModules, outdatedDependencies];\r\n \t\t}\r\n \t\r\n \t\tfunction addAllToSet(a, b) {\r\n \t\t\tfor(var i = 0; i < b.length; i++) {\r\n \t\t\t\tvar item = b[i];\r\n \t\t\t\tif(a.indexOf(item) < 0)\r\n \t\t\t\t\ta.push(item);\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// at begin all updates modules are outdated\r\n \t\t// the \"outdated\" status can propagate to parents if they don't accept the children\r\n \t\tvar outdatedDependencies = {};\r\n \t\tvar outdatedModules = [];\r\n \t\tvar appliedUpdate = {};\r\n \t\tfor(var id in hotUpdate) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\r\n \t\t\t\tvar moduleId = toModuleId(id);\r\n \t\t\t\tvar result = getAffectedStuff(moduleId);\r\n \t\t\t\tif(!result) {\r\n \t\t\t\t\tif(options.ignoreUnaccepted)\r\n \t\t\t\t\t\tcontinue;\r\n \t\t\t\t\thotSetStatus(\"abort\");\r\n \t\t\t\t\treturn callback(new Error(\"Aborted because \" + moduleId + \" is not accepted\"));\r\n \t\t\t\t}\r\n \t\t\t\tif(result instanceof Error) {\r\n \t\t\t\t\thotSetStatus(\"abort\");\r\n \t\t\t\t\treturn callback(result);\r\n \t\t\t\t}\r\n \t\t\t\tappliedUpdate[moduleId] = hotUpdate[moduleId];\r\n \t\t\t\taddAllToSet(outdatedModules, result[0]);\r\n \t\t\t\tfor(var moduleId in result[1]) {\r\n \t\t\t\t\tif(Object.prototype.hasOwnProperty.call(result[1], moduleId)) {\r\n \t\t\t\t\t\tif(!outdatedDependencies[moduleId])\r\n \t\t\t\t\t\t\toutdatedDependencies[moduleId] = [];\r\n \t\t\t\t\t\taddAllToSet(outdatedDependencies[moduleId], result[1][moduleId]);\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// Store self accepted outdated modules to require them later by the module system\r\n \t\tvar outdatedSelfAcceptedModules = [];\r\n \t\tfor(var i = 0; i < outdatedModules.length; i++) {\r\n \t\t\tvar moduleId = outdatedModules[i];\r\n \t\t\tif(installedModules[moduleId] && installedModules[moduleId].hot._selfAccepted)\r\n \t\t\t\toutdatedSelfAcceptedModules.push({\r\n \t\t\t\t\tmodule: moduleId,\r\n \t\t\t\t\terrorHandler: installedModules[moduleId].hot._selfAccepted\r\n \t\t\t\t});\r\n \t\t}\r\n \t\r\n \t\t// Now in \"dispose\" phase\r\n \t\thotSetStatus(\"dispose\");\r\n \t\tvar queue = outdatedModules.slice();\r\n \t\twhile(queue.length > 0) {\r\n \t\t\tvar moduleId = queue.pop();\r\n \t\t\tvar module = installedModules[moduleId];\r\n \t\t\tif(!module) continue;\r\n \t\r\n \t\t\tvar data = {};\r\n \t\r\n \t\t\t// Call dispose handlers\r\n \t\t\tvar disposeHandlers = module.hot._disposeHandlers;\r\n \t\t\tfor(var j = 0; j < disposeHandlers.length; j++) {\r\n \t\t\t\tvar cb = disposeHandlers[j];\r\n \t\t\t\tcb(data);\r\n \t\t\t}\r\n \t\t\thotCurrentModuleData[moduleId] = data;\r\n \t\r\n \t\t\t// disable module (this disables requires from this module)\r\n \t\t\tmodule.hot.active = false;\r\n \t\r\n \t\t\t// remove module from cache\r\n \t\t\tdelete installedModules[moduleId];\r\n \t\r\n \t\t\t// remove \"parents\" references from all children\r\n \t\t\tfor(var j = 0; j < module.children.length; j++) {\r\n \t\t\t\tvar child = installedModules[module.children[j]];\r\n \t\t\t\tif(!child) continue;\r\n \t\t\t\tvar idx = child.parents.indexOf(moduleId);\r\n \t\t\t\tif(idx >= 0) {\r\n \t\t\t\t\tchild.parents.splice(idx, 1);\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// remove outdated dependency from module children\r\n \t\tfor(var moduleId in outdatedDependencies) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)) {\r\n \t\t\t\tvar module = installedModules[moduleId];\r\n \t\t\t\tvar moduleOutdatedDependencies = outdatedDependencies[moduleId];\r\n \t\t\t\tfor(var j = 0; j < moduleOutdatedDependencies.length; j++) {\r\n \t\t\t\t\tvar dependency = moduleOutdatedDependencies[j];\r\n \t\t\t\t\tvar idx = module.children.indexOf(dependency);\r\n \t\t\t\t\tif(idx >= 0) module.children.splice(idx, 1);\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// Not in \"apply\" phase\r\n \t\thotSetStatus(\"apply\");\r\n \t\r\n \t\thotCurrentHash = hotUpdateNewHash;\r\n \t\r\n \t\t// insert new code\r\n \t\tfor(var moduleId in appliedUpdate) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {\r\n \t\t\t\tmodules[moduleId] = appliedUpdate[moduleId];\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// call accept handlers\r\n \t\tvar error = null;\r\n \t\tfor(var moduleId in outdatedDependencies) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)) {\r\n \t\t\t\tvar module = installedModules[moduleId];\r\n \t\t\t\tvar moduleOutdatedDependencies = outdatedDependencies[moduleId];\r\n \t\t\t\tvar callbacks = [];\r\n \t\t\t\tfor(var i = 0; i < moduleOutdatedDependencies.length; i++) {\r\n \t\t\t\t\tvar dependency = moduleOutdatedDependencies[i];\r\n \t\t\t\t\tvar cb = module.hot._acceptedDependencies[dependency];\r\n \t\t\t\t\tif(callbacks.indexOf(cb) >= 0) continue;\r\n \t\t\t\t\tcallbacks.push(cb);\r\n \t\t\t\t}\r\n \t\t\t\tfor(var i = 0; i < callbacks.length; i++) {\r\n \t\t\t\t\tvar cb = callbacks[i];\r\n \t\t\t\t\ttry {\r\n \t\t\t\t\t\tcb(outdatedDependencies);\r\n \t\t\t\t\t} catch(err) {\r\n \t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\terror = err;\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// Load self accepted modules\r\n \t\tfor(var i = 0; i < outdatedSelfAcceptedModules.length; i++) {\r\n \t\t\tvar item = outdatedSelfAcceptedModules[i];\r\n \t\t\tvar moduleId = item.module;\r\n \t\t\thotCurrentParents = [moduleId];\r\n \t\t\ttry {\r\n \t\t\t\t__webpack_require__(moduleId);\r\n \t\t\t} catch(err) {\r\n \t\t\t\tif(typeof item.errorHandler === \"function\") {\r\n \t\t\t\t\ttry {\r\n \t\t\t\t\t\titem.errorHandler(err);\r\n \t\t\t\t\t} catch(err) {\r\n \t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\terror = err;\r\n \t\t\t\t\t}\r\n \t\t\t\t} else if(!error)\r\n \t\t\t\t\terror = err;\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// handle errors in accept handlers and self accepted module load\r\n \t\tif(error) {\r\n \t\t\thotSetStatus(\"fail\");\r\n \t\t\treturn callback(error);\r\n \t\t}\r\n \t\r\n \t\thotSetStatus(\"idle\");\r\n \t\tcallback(null, outdatedModules);\r\n \t}\r\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false,\n \t\t\thot: hotCreateModule(moduleId),\n \t\t\tparents: hotCurrentParents,\n \t\t\tchildren: []\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// __webpack_hash__\n \t__webpack_require__.h = function() { return hotCurrentHash; };\n\n \t// Load entry module and return exports\n \treturn hotCreateRequire(0)(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 71695dfc917fa7c59511","import svg4everybody from 'svg4everybody';\r\n// import $ from 'jquery';\r\n// import './lib/jquery.magnific-popup.js';\r\n// import './lib/slick.js';\r\n// import './lib/owl.carousel.js';\r\n// import './lib/jquery-ui.js';\r\n// import './lib/jquery.nicescroll.js';\r\nimport './lib/jquery.fancybox.js';\r\n\r\n$(() => {\r\n\tsvg4everybody();\r\n});\r\n\r\n// Плавный скролл\r\n\r\n$('.slide-down a').on('click', function (e) {\r\ne.preventDefault();\r\nvar target = this.hash,\r\n$target = $(target);\r\n$('html, body').stop().animate({\r\n'scrollTop': $target.offset().top\r\n}, 800, 'swing', function () {});\r\n});\r\n\r\n//  Бургер батон\r\n$('.hamburger-btn').click(function(){\r\n\t\t$(this).toggleClass('is-active');\r\n\t\t$(this).parent().toggleClass('is-active');\r\n\t});\r\n\r\n// Filter begin\r\n\r\n// Range slider begin\r\nvar rangeSlider = function(){\r\n  var slider = $('.filter-price__range'),\r\n      range = $('.filter-price__range .input-range'),\r\n      value = $('.filter-price__range-value .num');\r\n    \r\n  slider.each(function(){\r\n\r\n    value.each(function(){\r\n      var value = $(this).parent().prev().attr('value');\r\n      $(this).text(value);\r\n    });\r\n\r\n    range.on('input', function(){\r\n      $(this).next().children('.num').text(this.value);\r\n    });\r\n  });\r\n};\r\n\r\nrangeSlider();\r\n// Range slider end\r\n\r\n$('.filter-dropdown__title, .filter-price__title').click(function () {\r\n\t$(this).toggleClass('is-active');\r\n\t$(this).next().slideToggle('fast');\r\n});\r\n\r\n$('.card__filter-btn').click(function () {\r\n\t$('.left-filter').toggleClass('is-active');\r\n});\r\n\r\n// Filter end\r\n\r\n$('.card-tabs .btn').click(function () {\r\n\tvar btnNum = $(this).index();\r\n\t$('.card-tabs .btn').removeClass('is-active');\r\n\t$(this).addClass('is-active');\r\n\t$('.card-tabs .tab').removeClass('is-active');\r\n\t$('.card-tabs .tab:eq('+btnNum+')').addClass('is-active');\r\n});\r\n\r\n\r\n\r\n//  Карусели начало\r\n\r\n$('.top-slider').owlCarousel({\r\n\t\tanimateOut: 'fadeOut',\r\n\t\tanimateIn: 'fadeIn',\r\n\t\tmouseDrag: false,\r\n\t\ttouchDrag:false,\r\n\t\tloop:true,\r\n\t\tnav: true,\r\n\t\tdots: true,\r\n\t\titems: 1,\r\n\t\tnavText: [,],\r\n\t\tautoplay: true,\r\n\t\tautoplayHoverPause: true,\r\n\t\tautoplayTimeout:8000,\r\n\t\tautoplaySpeed: 5000\r\n\t});\r\n\r\n$('.hit-slider').owlCarousel({\r\n\t\tmouseDrag: true,\r\n\t\ttouchDrag:true,\r\n\t\tmargin: 5,\r\n\t\tloop:true,\r\n\t\tnav: true,\r\n\t\tdots: false,\r\n\t\titems: 4,\r\n\t\tnavText: [,],\r\n\t\tautoplay: true,\r\n\t\tautoplayHoverPause: true,\r\n\t\tautoplayTimeout:10000,\r\n\t\tautoplaySpeed: 10000,\r\n\t\tresponsive: {\r\n\t\t\t0:{\r\n\t\t\t\titems:1\r\n\t\t\t},\r\n\t\t\t480:{\r\n\t\t\t\titems:2\r\n\t\t\t},\r\n\t\t\t767:{\r\n\t\t\t\titems:3\r\n\t\t\t},\r\n\t\t\t1024:{\r\n\t\t\t\titems:4\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n$('.home__collection').owlCarousel({\r\n\t\tmouseDrag: true,\r\n\t\ttouchDrag:true,\r\n\t\tmargin: 0,\r\n\t\tloop:false,\r\n\t\tnav: false,\r\n\t\tdots: true,\r\n\t\titems: 1,\r\n\t\tnavText: [,],\r\n\t\tdotsData: true,\r\n\t\tautoplay: false,\r\n\t\tautoplayHoverPause: true,\r\n\t\tautoplayTimeout:10000,\r\n\t\tautoplaySpeed: 10000\r\n\t});\r\n\r\n$('.home__collection').prepend($('.home__collection .owl-dots')); // Переместил точки наверх\r\n\r\n$('.home__review').owlCarousel({\r\n\t\tmouseDrag: true,\r\n\t\ttouchDrag:true,\r\n\t\tmargin: 0,\r\n\t\tloop:true,\r\n\t\tnav: true,\r\n\t\tdots: false,\r\n\t\titems: 1,\r\n\t\tnavText: [,],\r\n\t\tautoplay: true,\r\n\t\tautoplayHoverPause: true,\r\n\t\tautoplayTimeout:10000,\r\n\t\tautoplaySpeed: 1000\r\n\t});\r\n\r\n// Карусели конец\n\n\n// WEBPACK FOOTER //\n// ./app/scripts/app.js","!function(root, factory) {\n    \"function\" == typeof define && define.amd ? // AMD. Register as an anonymous module unless amdModuleId is set\n    define([], function() {\n        return root.svg4everybody = factory();\n    }) : \"object\" == typeof module && module.exports ? // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory() : root.svg4everybody = factory();\n}(this, function() {\n    /*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody */\n    function embed(parent, svg, target) {\n        // if the target exists\n        if (target) {\n            // create a document fragment to hold the contents of the target\n            var fragment = document.createDocumentFragment(), viewBox = !svg.hasAttribute(\"viewBox\") && target.getAttribute(\"viewBox\");\n            // conditionally set the viewBox on the svg\n            viewBox && svg.setAttribute(\"viewBox\", viewBox);\n            // copy the contents of the clone into the fragment\n            for (// clone the target\n            var clone = target.cloneNode(!0); clone.childNodes.length; ) {\n                fragment.appendChild(clone.firstChild);\n            }\n            // append the fragment into the svg\n            parent.appendChild(fragment);\n        }\n    }\n    function loadreadystatechange(xhr) {\n        // listen to changes in the request\n        xhr.onreadystatechange = function() {\n            // if the request is ready\n            if (4 === xhr.readyState) {\n                // get the cached html document\n                var cachedDocument = xhr._cachedDocument;\n                // ensure the cached html document based on the xhr response\n                cachedDocument || (cachedDocument = xhr._cachedDocument = document.implementation.createHTMLDocument(\"\"), \n                cachedDocument.body.innerHTML = xhr.responseText, xhr._cachedTarget = {}), // clear the xhr embeds list and embed each item\n                xhr._embeds.splice(0).map(function(item) {\n                    // get the cached target\n                    var target = xhr._cachedTarget[item.id];\n                    // ensure the cached target\n                    target || (target = xhr._cachedTarget[item.id] = cachedDocument.getElementById(item.id)), \n                    // embed the target into the svg\n                    embed(item.parent, item.svg, target);\n                });\n            }\n        }, // test the ready state change immediately\n        xhr.onreadystatechange();\n    }\n    function svg4everybody(rawopts) {\n        function oninterval() {\n            // while the index exists in the live <use> collection\n            for (// get the cached <use> index\n            var index = 0; index < uses.length; ) {\n                // get the current <use>\n                var use = uses[index], parent = use.parentNode, svg = getSVGAncestor(parent), src = use.getAttribute(\"xlink:href\") || use.getAttribute(\"href\");\n                if (!src && opts.attributeName && (src = use.getAttribute(opts.attributeName)), \n                svg && src) {\n                    if (polyfill) {\n                        if (!opts.validate || opts.validate(src, svg, use)) {\n                            // remove the <use> element\n                            parent.removeChild(use);\n                            // parse the src and get the url and id\n                            var srcSplit = src.split(\"#\"), url = srcSplit.shift(), id = srcSplit.join(\"#\");\n                            // if the link is external\n                            if (url.length) {\n                                // get the cached xhr request\n                                var xhr = requests[url];\n                                // ensure the xhr request exists\n                                xhr || (xhr = requests[url] = new XMLHttpRequest(), xhr.open(\"GET\", url), xhr.send(), \n                                xhr._embeds = []), // add the svg and id as an item to the xhr embeds list\n                                xhr._embeds.push({\n                                    parent: parent,\n                                    svg: svg,\n                                    id: id\n                                }), // prepare the xhr ready state change event\n                                loadreadystatechange(xhr);\n                            } else {\n                                // embed the local id into the svg\n                                embed(parent, svg, document.getElementById(id));\n                            }\n                        } else {\n                            // increase the index when the previous value was not \"valid\"\n                            ++index, ++numberOfSvgUseElementsToBypass;\n                        }\n                    }\n                } else {\n                    // increase the index when the previous value was not \"valid\"\n                    ++index;\n                }\n            }\n            // continue the interval\n            (!uses.length || uses.length - numberOfSvgUseElementsToBypass > 0) && requestAnimationFrame(oninterval, 67);\n        }\n        var polyfill, opts = Object(rawopts), newerIEUA = /\\bTrident\\/[567]\\b|\\bMSIE (?:9|10)\\.0\\b/, webkitUA = /\\bAppleWebKit\\/(\\d+)\\b/, olderEdgeUA = /\\bEdge\\/12\\.(\\d+)\\b/, edgeUA = /\\bEdge\\/.(\\d+)\\b/, inIframe = window.top !== window.self;\n        polyfill = \"polyfill\" in opts ? opts.polyfill : newerIEUA.test(navigator.userAgent) || (navigator.userAgent.match(olderEdgeUA) || [])[1] < 10547 || (navigator.userAgent.match(webkitUA) || [])[1] < 537 || edgeUA.test(navigator.userAgent) && inIframe;\n        // create xhr requests object\n        var requests = {}, requestAnimationFrame = window.requestAnimationFrame || setTimeout, uses = document.getElementsByTagName(\"use\"), numberOfSvgUseElementsToBypass = 0;\n        // conditionally start the interval if the polyfill is active\n        polyfill && oninterval();\n    }\n    function getSVGAncestor(node) {\n        for (var svg = node; \"svg\" !== svg.nodeName.toLowerCase() && (svg = svg.parentNode); ) {}\n        return svg;\n    }\n    return svg4everybody;\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/svg4everybody/dist/svg4everybody.js\n// module id = 1\n// module chunks = 0","// ==================================================\n// fancyBox v3.2.3\n//\n// Licensed GPLv3 for open source use\n// or fancyBox Commercial License for commercial use\n//\n// http://fancyapps.com/fancybox/\n// Copyright 2017 fancyApps\n//\n// ==================================================\n;(function (window, document, $, undefined) {\n    'use strict';\n\n    // If there's no jQuery, fancyBox can't work\n    // =========================================\n\n    if ( !$ ) {\n        return;\n    }\n\n    // Check if fancyBox is already initialized\n    // ========================================\n\n    if ( $.fn.fancybox ) {\n\n        if ( 'console' in window ) {\n            console.log( 'fancyBox already initialized' );\n        }\n\n        return;\n    }\n\n    // Private default settings\n    // ========================\n\n    var defaults = {\n\n        // Enable infinite gallery navigation\n        loop : false,\n\n        // Space around image, ignored if zoomed-in or viewport width is smaller than 800px\n        margin : [44, 0],\n\n        // Horizontal space between slides\n        gutter : 50,\n\n        // Enable keyboard navigation\n        keyboard : true,\n\n        // Should display navigation arrows at the screen edges\n        arrows : true,\n\n        // Should display infobar (counter and arrows at the top)\n        infobar : true,\n\n        // Should display toolbar (buttons at the top)\n        toolbar : true,\n\n        // What buttons should appear in the top right corner.\n        // Buttons will be created using templates from `btnTpl` option\n        // and they will be placed into toolbar (class=\"fancybox-toolbar\"` element)\n        buttons : [\n            'slideShow',\n            'fullScreen',\n            'thumbs',\n            'share',\n            //'download',\n            //'zoom',\n            'close'\n        ],\n\n        // Detect \"idle\" time in seconds\n        idleTime : 3,\n\n        // Should display buttons at top right corner of the content\n        // If 'auto' - they will be created for content having type 'html', 'inline' or 'ajax'\n        // Use template from `btnTpl.smallBtn` for customization\n        smallBtn : 'auto',\n\n        // Disable right-click and use simple image protection for images\n        protect : false,\n\n        // Shortcut to make content \"modal\" - disable keyboard navigtion, hide buttons, etc\n        modal : false,\n\n        image : {\n\n            // Wait for images to load before displaying\n            // Requires predefined image dimensions\n            // If 'auto' - will zoom in thumbnail if 'width' and 'height' attributes are found\n            preload : \"auto\"\n\n        },\n\n        ajax : {\n\n            // Object containing settings for ajax request\n            settings : {\n\n                // This helps to indicate that request comes from the modal\n                // Feel free to change naming\n                data : {\n                    fancybox : true\n                }\n            }\n\n        },\n\n        iframe : {\n\n            // Iframe template\n            tpl : '<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" frameborder=\"0\" vspace=\"0\" hspace=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency=\"true\" src=\"\"></iframe>',\n\n            // Preload iframe before displaying it\n            // This allows to calculate iframe content width and height\n            // (note: Due to \"Same Origin Policy\", you can't get cross domain data).\n            preload : true,\n\n            // Custom CSS styling for iframe wrapping element\n            // You can use this to set custom iframe dimensions\n            css : {},\n\n            // Iframe tag attributes\n            attr : {\n                scrolling : 'auto'\n            }\n\n        },\n\n        // Default content type if cannot be detected automatically\n        defaultType : 'image',\n\n        // Open/close animation type\n        // Possible values:\n        //   false            - disable\n        //   \"zoom\"           - zoom images from/to thumbnail\n        //   \"fade\"\n        //   \"zoom-in-out\"\n        //\n        animationEffect : \"zoom\",\n\n        // Duration in ms for open/close animation\n        animationDuration : 500,\n\n        // Should image change opacity while zooming\n        // If opacity is 'auto', then opacity will be changed if image and thumbnail have different aspect ratios\n        zoomOpacity : 'auto',\n\n        // Transition effect between slides\n        //\n        // Possible values:\n        //   false            - disable\n        //   \"fade'\n        //   \"slide'\n        //   \"circular'\n        //   \"tube'\n        //   \"zoom-in-out'\n        //   \"rotate'\n        //\n        transitionEffect : \"fade\",\n\n        // Duration in ms for transition animation\n        transitionDuration : 366,\n\n        // Custom CSS class for slide element\n        slideClass : '',\n\n        // Custom CSS class for layout\n        baseClass : '',\n\n        // Base template for layout\n        baseTpl\t:\n            '<div class=\"fancybox-container\" role=\"dialog\" tabindex=\"-1\">' +\n                '<div class=\"fancybox-bg\"></div>' +\n                '<div class=\"fancybox-inner\">' +\n                    '<div class=\"fancybox-infobar\">' +\n                        '<span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span>' +\n                    '</div>' +\n                    '<div class=\"fancybox-toolbar\">{{buttons}}</div>' +\n                    '<div class=\"fancybox-navigation\">{{arrows}}</div>' +\n                    '<div class=\"fancybox-stage\"></div>' +\n                    '<div class=\"fancybox-caption-wrap\"><div class=\"fancybox-caption\"></div></div>' +\n                '</div>' +\n            '</div>',\n\n        // Loading indicator template\n        spinnerTpl : '<div class=\"fancybox-loading\"></div>',\n\n        // Error message template\n        errorTpl : '<div class=\"fancybox-error\"><p>{{ERROR}}<p></div>',\n\n        btnTpl : {\n\n            download : '<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title=\"{{DOWNLOAD}}\">' +\n                    '<svg viewBox=\"0 0 40 40\">' +\n                        '<path d=\"M20,23 L20,8 L20,23 L13,16 L20,23 L27,16 L20,23 M9,28 L31,28\" />' +\n                    '</svg>' +\n                '</a>',\n\n            zoom : '<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title=\"{{ZOOM}}\">' +\n                    '<svg viewBox=\"0 0 40 40\">' +\n                        '<path d=\"M 18,17 m -8, 0 a 8,8 0 1,0 16,0 a 8,8 0 1,0 -16,0 M25,23 L31,29 L25,23\"></path>' +\n                    '</svg>' +\n                '</button>',\n\n            close : '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\">' +\n                '<svg viewBox=\"0 0 40 40\">' +\n                    '<path d=\"M10,10 L30,30 M30,10 L10,30\" />' +\n                '</svg>' +\n            '</button>',\n\n            // This small close button will be appended to your html/inline/ajax content by default,\n            // if \"smallBtn\" option is not set to false\n            smallBtn   : '<button data-fancybox-close class=\"fancybox-close-small\" title=\"{{CLOSE}}\"></button>',\n\n            // Arrows\n            arrowLeft : '<button data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title=\"{{PREV}}\">' +\n                            '<svg viewBox=\"0 0 40 40\">' +\n                              '<path d=\"M10,20 L30,20 L10,20 L18,28 L10,20 L18,12 L10,20\"></path>' +\n                            '</svg>' +\n                          '</button>',\n\n            arrowRight : '<button data-fancybox-next class=\"fancybox-button fancybox-button--arrow_right\" title=\"{{NEXT}}\">' +\n                          '<svg viewBox=\"0 0 40 40\">' +\n                            '<path d=\"M30,20 L10,20 L30,20 L22,28 L30,20 L22,12 L30,20\"></path>' +\n                          '</svg>' +\n                        '</button>'\n        },\n\n        // Container is injected into this element\n        parentEl : 'body',\n\n\n        // Focus handling\n        // ==============\n\n        // Try to focus on the first focusable element after opening\n        autoFocus : false,\n\n        // Put focus back to active element after closing\n        backFocus : true,\n\n        // Do not let user to focus on element outside modal content\n        trapFocus : true,\n\n\n        // Module specific options\n        // =======================\n\n        fullScreen : {\n            autoStart : false,\n        },\n\n        // Set `touch: false` to disable dragging/swiping\n        touch : {\n            vertical : true,  // Allow to drag content vertically\n            momentum : true   // Continue movement after releasing mouse/touch when panning\n        },\n\n        // Hash value when initializing manually,\n        // set `false` to disable hash change\n        hash : null,\n\n        // Customize or add new media types\n        // Example:\n        /*\n        media : {\n            youtube : {\n                params : {\n                    autoplay : 0\n                }\n            }\n        }\n        */\n        media : {},\n\n        slideShow : {\n            autoStart : false,\n            speed     : 4000\n        },\n\n        thumbs : {\n\t\t\tautoStart   : false,                  // Display thumbnails on opening\n\t\t\thideOnClose : true,                   // Hide thumbnail grid when closing animation starts\n\t\t\tparentEl    : '.fancybox-container',  // Container is injected into this element\n\t\t\taxis        : 'y'                     // Vertical (y) or horizontal (x)\n\t\t},\n\n        // Callbacks\n        //==========\n\n        // See Documentation/API/Events for more information\n        // Example:\n        /*\n            afterShow: function( instance, current ) {\n                 console.info( 'Clicked element:' );\n                 console.info( current.opts.$orig );\n            }\n        */\n\n        onInit       : $.noop,  // When instance has been initialized\n\n        beforeLoad   : $.noop,  // Before the content of a slide is being loaded\n        afterLoad    : $.noop,  // When the content of a slide is done loading\n\n        beforeShow   : $.noop,  // Before open animation starts\n        afterShow    : $.noop,  // When content is done loading and animating\n\n        beforeClose  : $.noop,  // Before the instance attempts to close. Return false to cancel the close.\n        afterClose   : $.noop,  // After instance has been closed\n\n        onActivate   : $.noop,  // When instance is brought to front\n        onDeactivate : $.noop,  // When other instance has been activated\n\n\n        // Interaction\n        // ===========\n\n        // Use options below to customize taken action when user clicks or double clicks on the fancyBox area,\n        // each option can be string or method that returns value.\n        //\n        // Possible values:\n        //   \"close\"           - close instance\n        //   \"next\"            - move to next gallery item\n        //   \"nextOrClose\"     - move to next gallery item or close if gallery has only one item\n        //   \"toggleControls\"  - show/hide controls\n        //   \"zoom\"            - zoom image (if loaded)\n        //   false             - do nothing\n\n        // Clicked on the content\n        clickContent : function( current, event ) {\n            return current.type === 'image' ? 'zoom' : false;\n        },\n\n        // Clicked on the slide\n        clickSlide : 'close',\n\n        // Clicked on the background (backdrop) element\n        clickOutside : 'close',\n\n        // Same as previous two, but for double click\n        dblclickContent : false,\n        dblclickSlide   : false,\n        dblclickOutside : false,\n\n\n        // Custom options when mobile device is detected\n        // =============================================\n\n        mobile : {\n            margin : 0,\n\n            clickContent : function( current, event ) {\n                return current.type === 'image' ? 'toggleControls' : false;\n            },\n            clickSlide : function( current, event ) {\n                return current.type === 'image' ? 'toggleControls' : 'close';\n            },\n            dblclickContent : function( current, event ) {\n                return current.type === 'image' ? 'zoom' : false;\n            },\n            dblclickSlide : function( current, event ) {\n                return current.type === 'image' ? 'zoom' : false;\n            }\n        },\n\n\n        // Internationalization\n        // ============\n\n        lang : 'en',\n        i18n : {\n            'en' : {\n                CLOSE       : 'Close',\n                NEXT        : 'Next',\n                PREV        : 'Previous',\n                ERROR       : 'The requested content cannot be loaded. <br/> Please try again later.',\n                PLAY_START  : 'Start slideshow',\n                PLAY_STOP   : 'Pause slideshow',\n                FULL_SCREEN : 'Full screen',\n                THUMBS      : 'Thumbnails',\n                DOWNLOAD    : 'Download',\n                SHARE       : 'Share',\n                ZOOM        : 'Zoom'\n            },\n            'de' : {\n                CLOSE       : 'Schliessen',\n                NEXT        : 'Weiter',\n                PREV        : 'Zurück',\n                ERROR       : 'Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.',\n                PLAY_START  : 'Diaschau starten',\n                PLAY_STOP   : 'Diaschau beenden',\n                FULL_SCREEN : 'Vollbild',\n                THUMBS      : 'Vorschaubilder',\n                DOWNLOAD    : 'Herunterladen',\n                SHARE       : 'Teilen',\n                ZOOM        : 'Maßstab'\n            }\n        }\n\n    };\n\n    // Few useful variables and methods\n    // ================================\n\n    var $W = $(window);\n    var $D = $(document);\n\n    var called = 0;\n\n\n    // Check if an object is a jQuery object and not a native JavaScript object\n    // ========================================================================\n\n    var isQuery = function ( obj ) {\n        return obj && obj.hasOwnProperty && obj instanceof $;\n    };\n\n\n    // Handle multiple browsers for \"requestAnimationFrame\" and \"cancelAnimationFrame\"\n    // ===============================================================================\n\n    var requestAFrame = (function () {\n        return window.requestAnimationFrame ||\n                window.webkitRequestAnimationFrame ||\n                window.mozRequestAnimationFrame ||\n                window.oRequestAnimationFrame ||\n                // if all else fails, use setTimeout\n                function (callback) {\n                    return window.setTimeout(callback, 1000 / 60);\n                };\n    })();\n\n\n    // Detect the supported transition-end event property name\n    // =======================================================\n\n    var transitionEnd = (function () {\n        var t, el = document.createElement(\"fakeelement\");\n\n        var transitions = {\n            \"transition\"      : \"transitionend\",\n            \"OTransition\"     : \"oTransitionEnd\",\n            \"MozTransition\"   : \"transitionend\",\n            \"WebkitTransition\": \"webkitTransitionEnd\"\n        };\n\n        for (t in transitions) {\n            if (el.style[t] !== undefined){\n                return transitions[t];\n            }\n        }\n    })();\n\n\n    // Force redraw on an element.\n    // This helps in cases where the browser doesn't redraw an updated element properly.\n    // =================================================================================\n\n    var forceRedraw = function( $el ) {\n        return ( $el && $el.length && $el[0].offsetHeight );\n    };\n\n\n    // Class definition\n    // ================\n\n    var FancyBox = function( content, opts, index ) {\n        var self = this;\n\n        self.opts = $.extend( true, { index : index }, $.fancybox.defaults, opts || {} );\n\n        if ( $.fancybox.isMobile ) {\n            self.opts = $.extend( true, {}, self.opts, self.opts.mobile );\n        }\n\n        // Exclude buttons option from deep merging\n        if ( opts && $.isArray( opts.buttons ) ) {\n            self.opts.buttons = opts.buttons;\n        }\n\n        self.id    = self.opts.id || ++called;\n        self.group = [];\n\n        self.currIndex = parseInt( self.opts.index, 10 ) || 0;\n        self.prevIndex = null;\n\n        self.prevPos = null;\n        self.currPos = 0;\n\n        self.firstRun = null;\n\n        // Create group elements from original item collection\n        self.createGroup( content );\n\n        if ( !self.group.length ) {\n            return;\n        }\n\n        // Save last active element and current scroll position\n        self.$lastFocus = $(document.activeElement).blur();\n\n        // Collection of gallery objects\n        self.slides = {};\n\n        self.init();\n    };\n\n    $.extend(FancyBox.prototype, {\n\n        // Create DOM structure\n        // ====================\n\n        init : function() {\n            var self = this,\n                firstItem      = self.group[ self.currIndex ],\n                firstItemOpts  = firstItem.opts,\n                scrollbarWidth = $.fancybox.scrollbarWidth,\n                $scrollDiv,\n                $container,\n                buttonStr;\n\n            self.scrollTop  = $D.scrollTop();\n            self.scrollLeft = $D.scrollLeft();\n\n\n            // Hide scrollbars\n            // ===============\n\n            if ( !$.fancybox.getInstance() ) {\n\n                $( 'body' ).addClass( 'fancybox-active' );\n\n                // iOS hack\n                if ( /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream ) {\n\n                    // iOS has problems for input elements inside fixed containers,\n                    // the workaround is to apply `position: fixed` to `<body>` element,\n                    // unfortunately, this makes it lose the scrollbars and forces address bar to appear.\n\n                    if ( firstItem.type !== 'image' ) {\n                        $( 'body' ).css( 'top', $( 'body' ).scrollTop() * -1 ).addClass( 'fancybox-iosfix' );\n                    }\n\n                } else if ( !$.fancybox.isMobile && document.body.scrollHeight > window.innerHeight ) {\n\n                    if ( scrollbarWidth === undefined ) {\n                        $scrollDiv = $('<div style=\"width:50px;height:50px;overflow:scroll;\" />').appendTo( 'body' );\n\n                        scrollbarWidth = $.fancybox.scrollbarWidth = $scrollDiv[0].offsetWidth - $scrollDiv[0].clientWidth;\n\n                        $scrollDiv.remove();\n                    }\n\n                    $( 'head' ).append( '<style id=\"fancybox-style-noscroll\" type=\"text/css\">.compensate-for-scrollbar { margin-right: ' + scrollbarWidth + 'px; }</style>' );\n                    $( 'body' ).addClass( 'compensate-for-scrollbar' );\n                }\n            }\n\n\n            // Build html markup and set references\n            // ====================================\n\n            // Build html code for buttons and insert into main template\n            buttonStr = '';\n\n            $.each( firstItemOpts.buttons, function( index, value ) {\n                buttonStr += ( firstItemOpts.btnTpl[ value ] || '' );\n            });\n\n            // Create markup from base template, it will be initially hidden to\n            // avoid unnecessary work like painting while initializing is not complete\n            $container = $(\n                self.translate( self,\n                    firstItemOpts.baseTpl\n                        .replace( '\\{\\{buttons\\}\\}', buttonStr )\n                        .replace( '\\{\\{arrows\\}\\}', firstItemOpts.btnTpl.arrowLeft + firstItemOpts.btnTpl.arrowRight )\n                )\n            )\n                .attr( 'id', 'fancybox-container-' + self.id )\n                .addClass( 'fancybox-is-hidden' )\n                .addClass( firstItemOpts.baseClass )\n                .data( 'FancyBox', self )\n                .appendTo( firstItemOpts.parentEl );\n\n            // Create object holding references to jQuery wrapped nodes\n            self.$refs = {\n                container : $container\n            };\n\n            [ 'bg', 'inner', 'infobar', 'toolbar', 'stage', 'caption', 'navigation' ].forEach(function(item) {\n                self.$refs[ item ] = $container.find( '.fancybox-' + item );\n            });\n\n            self.trigger( 'onInit' );\n\n            // Enable events, deactive previous instances\n            self.activate();\n\n            // Build slides, load and reveal content\n            self.jumpTo( self.currIndex );\n        },\n\n\n        // Simple i18n support - replaces object keys found in template\n        // with corresponding values\n        // ============================================================\n\n        translate : function( obj, str ) {\n            var arr = obj.opts.i18n[ obj.opts.lang ];\n\n            return str.replace(/\\{\\{(\\w+)\\}\\}/g, function(match, n) {\n                var value = arr[n];\n\n                if ( value === undefined ) {\n                    return match;\n                }\n\n                return value;\n            });\n        },\n\n        // Create array of gally item objects\n        // Check if each object has valid type and content\n        // ===============================================\n\n        createGroup : function ( content ) {\n            var self  = this;\n            var items = $.makeArray( content );\n\n            $.each(items, function( i, item ) {\n                var obj  = {},\n                    opts = {},\n                    $item,\n                    type,\n                    src,\n                    srcParts;\n\n                // Step 1 - Make sure we have an object\n                // ====================================\n\n                if ( $.isPlainObject( item ) ) {\n\n                    // We probably have manual usage here, something like\n                    // $.fancybox.open( [ { src : \"image.jpg\", type : \"image\" } ] )\n\n                    obj  = item;\n                    opts = item.opts || item;\n\n                } else if ( $.type( item ) === 'object' && $( item ).length ) {\n\n                    // Here we probably have jQuery collection returned by some selector\n                    $item = $( item );\n\n                    opts = $item.data();\n                    opts = $.extend( {}, opts, opts.options || {} );\n\n                    // Here we store clicked element\n                    opts.$orig = $item;\n\n                    obj.src = opts.src || $item.attr( 'href' );\n\n                    // Assume that simple syntax is used, for example:\n                    //   `$.fancybox.open( $(\"#test\"), {} );`\n                    if ( !obj.type && !obj.src ) {\n                        obj.type = 'inline';\n                        obj.src  = item;\n                    }\n\n                } else {\n\n                    // Assume we have a simple html code, for example:\n                    //   $.fancybox.open( '<div><h1>Hi!</h1></div>' );\n\n                    obj = {\n                        type : 'html',\n                        src  : item + ''\n                    };\n\n                }\n\n                // Each gallery object has full collection of options\n                obj.opts = $.extend( true, {}, self.opts, opts );\n\n                // Do not merge buttons array\n                if ( $.isArray( opts.buttons ) ) {\n                    obj.opts.buttons = opts.buttons;\n                }\n\n\n                // Step 2 - Make sure we have content type, if not - try to guess\n                // ==============================================================\n\n                type = obj.type || obj.opts.type;\n                src  = obj.src || '';\n\n                if ( !type && src ) {\n                    if ( src.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i) ) {\n                        type = 'image';\n\n                    } else if ( src.match(/\\.(pdf)((\\?|#).*)?$/i) ) {\n                        type = 'pdf';\n\n                    } else if ( src.charAt(0) === '#' ) {\n                        type = 'inline';\n                    }\n                }\n\n                if ( type ) {\n                    obj.type = type;\n\n                } else {\n                    self.trigger( 'objectNeedsType', obj );\n                }\n\n\n                // Step 3 - Some adjustments\n                // =========================\n\n                obj.index = self.group.length;\n\n                // Check if $orig and $thumb objects exist\n                if ( obj.opts.$orig && !obj.opts.$orig.length ) {\n                    delete obj.opts.$orig;\n                }\n\n                if ( !obj.opts.$thumb && obj.opts.$orig ) {\n                    obj.opts.$thumb = obj.opts.$orig.find( 'img:first' );\n                }\n\n                if ( obj.opts.$thumb && !obj.opts.$thumb.length ) {\n                    delete obj.opts.$thumb;\n                }\n\n                // Caption is a \"special\" option, it can be passed as a method\n                if ( $.type( self.opts.caption ) === 'function' ) {\n                    obj.opts.caption = self.opts.caption.apply( item, [ self, obj ] );\n                }\n\n                // Make sure we have caption as a string or jQuery object\n                if ( !( obj.opts.caption instanceof $ ) ) {\n                    obj.opts.caption = obj.opts.caption === undefined ? '' : obj.opts.caption + '';\n                }\n\n                // Check if url contains \"filter\" used to filter the content\n                // Example: \"ajax.html #something\"\n                if ( type === 'ajax' ) {\n                    srcParts = src.split(/\\s+/, 2);\n\n                    if ( srcParts.length > 1 ) {\n                        obj.src = srcParts.shift();\n\n                        obj.opts.filter = srcParts.shift();\n                    }\n                }\n\n                if ( obj.opts.smallBtn == 'auto' ) {\n\n                    if ( $.inArray( type, ['html', 'inline', 'ajax'] ) > -1 ) {\n                        obj.opts.toolbar  = false;\n                        obj.opts.smallBtn = true;\n\n                    } else {\n                        obj.opts.smallBtn = false;\n                    }\n\n                }\n\n                // If the type is \"pdf\", then simply load file into iframe\n                if ( type === 'pdf' ) {\n                    obj.type = 'iframe';\n\n                    obj.opts.iframe.preload = false;\n                }\n\n                // Hide all buttons and disable interactivity for modal items\n                if ( obj.opts.modal ) {\n\n                    obj.opts = $.extend(true, obj.opts, {\n                        // Remove buttons\n                        infobar : 0,\n                        toolbar : 0,\n\n                        smallBtn : 0,\n\n                        // Disable keyboard navigation\n                        keyboard : 0,\n\n                        // Disable some modules\n                        slideShow  : 0,\n                        fullScreen : 0,\n                        thumbs     : 0,\n                        touch      : 0,\n\n                        // Disable click event handlers\n                        clickContent    : false,\n                        clickSlide      : false,\n                        clickOutside    : false,\n                        dblclickContent : false,\n                        dblclickSlide   : false,\n                        dblclickOutside : false\n                    });\n\n                }\n\n                // Step 4 - Add processed object to group\n                // ======================================\n\n                self.group.push( obj );\n\n            });\n\n        },\n\n\n        // Attach an event handler functions for:\n        //   - navigation buttons\n        //   - browser scrolling, resizing;\n        //   - focusing\n        //   - keyboard\n        //   - detect idle\n        // ======================================\n\n        addEvents : function() {\n            var self = this;\n\n            self.removeEvents();\n\n            // Make navigation elements clickable\n            self.$refs.container.on('click.fb-close', '[data-fancybox-close]', function(e) {\n                e.stopPropagation();\n                e.preventDefault();\n\n                self.close( e );\n\n            }).on( 'click.fb-prev touchend.fb-prev', '[data-fancybox-prev]', function(e) {\n                e.stopPropagation();\n                e.preventDefault();\n\n                self.previous();\n\n            }).on( 'click.fb-next touchend.fb-next', '[data-fancybox-next]', function(e) {\n                e.stopPropagation();\n                e.preventDefault();\n\n                self.next();\n\n            }).on( 'click.fb', '[data-fancybox-zoom]', function(e) {\n                // Click handler for zoom button\n                self[ self.isScaledDown() ? 'scaleToActual' : 'scaleToFit' ]();\n            });\n\n\n            // Handle page scrolling and browser resizing\n            $W.on('orientationchange.fb resize.fb', function(e) {\n\n                if ( e && e.originalEvent && e.originalEvent.type === \"resize\" ) {\n\n                    requestAFrame(function() {\n                        self.update();\n                    });\n\n                } else {\n\n                    self.$refs.stage.hide();\n\n                    setTimeout(function() {\n                        self.$refs.stage.show();\n\n                        self.update();\n                    }, 600);\n\n                }\n\n            });\n\n            // Trap keyboard focus inside of the modal, so the user does not accidentally tab outside of the modal\n            // (a.k.a. \"escaping the modal\")\n            $D.on('focusin.fb', function(e) {\n                var instance = $.fancybox ? $.fancybox.getInstance() : null;\n\n                if ( instance.isClosing || !instance.current || !instance.current.opts.trapFocus || $( e.target ).hasClass( 'fancybox-container' ) || $( e.target ).is( document ) ) {\n                    return;\n                }\n\n                if ( instance && $( e.target ).css( 'position' ) !== 'fixed' && !instance.$refs.container.has( e.target ).length ) {\n                    e.stopPropagation();\n\n                    instance.focus();\n\n                    // Sometimes page gets scrolled, set it back\n                    $W.scrollTop( self.scrollTop ).scrollLeft( self.scrollLeft );\n                }\n            });\n\n\n            // Enable keyboard navigation\n            $D.on('keydown.fb', function (e) {\n                var current = self.current,\n                    keycode = e.keyCode || e.which;\n\n                if ( !current || !current.opts.keyboard ) {\n                    return;\n                }\n\n                if ( $(e.target).is('input') || $(e.target).is('textarea') ) {\n                    return;\n                }\n\n                // Backspace and Esc keys\n                if ( keycode === 8 || keycode === 27 ) {\n                    e.preventDefault();\n\n                    self.close( e );\n\n                    return;\n                }\n\n                // Left arrow and Up arrow\n                if ( keycode === 37 || keycode === 38 ) {\n                    e.preventDefault();\n\n                    self.previous();\n\n                    return;\n                }\n\n                // Righ arrow and Down arrow\n                if ( keycode === 39 || keycode === 40 ) {\n                    e.preventDefault();\n\n                    self.next();\n\n                    return;\n                }\n\n                self.trigger('afterKeydown', e, keycode);\n            });\n\n\n            // Hide controls after some inactivity period\n            if ( self.group[ self.currIndex ].opts.idleTime ) {\n                self.idleSecondsCounter = 0;\n\n                $D.on('mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle', function(e) {\n                    self.idleSecondsCounter = 0;\n\n                    if ( self.isIdle ) {\n                        self.showControls();\n                    }\n\n                    self.isIdle = false;\n                });\n\n                self.idleInterval = window.setInterval(function() {\n                    self.idleSecondsCounter++;\n\n                    if ( self.idleSecondsCounter >= self.group[ self.currIndex ].opts.idleTime ) {\n                        self.isIdle = true;\n                        self.idleSecondsCounter = 0;\n\n                        self.hideControls();\n                    }\n\n                }, 1000);\n            }\n\n        },\n\n\n        // Remove events added by the core\n        // ===============================\n\n        removeEvents : function() {\n            var self = this;\n\n            $W.off( 'orientationchange.fb resize.fb' );\n            $D.off( 'focusin.fb keydown.fb .fb-idle' );\n\n            this.$refs.container.off( '.fb-close .fb-prev .fb-next' );\n\n            if ( self.idleInterval ) {\n                window.clearInterval( self.idleInterval );\n\n                self.idleInterval = null;\n            }\n        },\n\n\n        // Change to previous gallery item\n        // ===============================\n\n        previous : function( duration ) {\n            return this.jumpTo( this.currPos - 1, duration );\n        },\n\n\n        // Change to next gallery item\n        // ===========================\n\n        next : function( duration ) {\n            return this.jumpTo( this.currPos + 1, duration );\n        },\n\n\n        // Switch to selected gallery item\n        // ===============================\n\n        jumpTo : function ( pos, duration, slide ) {\n            var self = this,\n                firstRun,\n                loop,\n                current,\n                previous,\n                canvasWidth,\n                currentPos,\n                transitionProps;\n\n            var groupLen = self.group.length;\n\n            if ( self.isSliding || self.isClosing || ( self.isAnimating && self.firstRun ) ) {\n                return;\n            }\n\n            pos  = parseInt( pos, 10 );\n            loop = self.current ? self.current.opts.loop : self.opts.loop;\n\n            if ( !loop && ( pos < 0 || pos >= groupLen ) ) {\n                return false;\n            }\n\n            firstRun = self.firstRun = ( self.firstRun === null );\n\n            if ( groupLen < 2 && !firstRun && !!self.isSliding ) {\n                return;\n            }\n\n            previous = self.current;\n\n            self.prevIndex = self.currIndex;\n            self.prevPos   = self.currPos;\n\n            // Create slides\n            current = self.createSlide( pos );\n\n            if ( groupLen > 1 ) {\n                if ( loop || current.index > 0 ) {\n                    self.createSlide( pos - 1 );\n                }\n\n                if ( loop || current.index < groupLen - 1 ) {\n                    self.createSlide( pos + 1 );\n                }\n            }\n\n            self.current   = current;\n            self.currIndex = current.index;\n            self.currPos   = current.pos;\n\n            self.trigger( 'beforeShow', firstRun );\n\n            self.updateControls();\n\n            currentPos = $.fancybox.getTranslate( current.$slide );\n\n            current.isMoved        = ( currentPos.left !== 0 || currentPos.top !== 0 ) && !current.$slide.hasClass( 'fancybox-animated' );\n            current.forcedDuration = undefined;\n\n            if ( $.isNumeric( duration ) ) {\n                current.forcedDuration = duration;\n            } else {\n                duration = current.opts[ firstRun ? 'animationDuration' : 'transitionDuration' ];\n            }\n\n            duration = parseInt( duration, 10 );\n\n            // Fresh start - reveal container, current slide and start loading content\n            if ( firstRun ) {\n\n                if ( current.opts.animationEffect && duration ) {\n                    self.$refs.container.css( 'transition-duration', duration + 'ms' );\n                }\n\n                self.$refs.container.removeClass( 'fancybox-is-hidden' );\n\n                forceRedraw( self.$refs.container );\n\n                self.$refs.container.addClass( 'fancybox-is-open' );\n\n                // Make first slide visible (to display loading icon, if needed)\n                current.$slide.addClass( 'fancybox-slide--current' );\n\n                self.loadSlide( current );\n\n                self.preload();\n\n                return;\n            }\n\n            // Clean up\n            $.each(self.slides, function( index, slide ) {\n                $.fancybox.stop( slide.$slide );\n            });\n\n            // Make current that slide is visible even if content is still loading\n            current.$slide.removeClass( 'fancybox-slide--next fancybox-slide--previous' ).addClass( 'fancybox-slide--current' );\n\n            // If slides have been dragged, animate them to correct position\n            if ( current.isMoved ) {\n                canvasWidth = Math.round( current.$slide.width() );\n\n                $.each(self.slides, function( index, slide ) {\n                    var pos = slide.pos - current.pos;\n\n                    $.fancybox.animate( slide.$slide, {\n                        top  : 0,\n                        left : ( pos * canvasWidth ) + ( pos * slide.opts.gutter )\n                    }, duration, function() {\n\n                        slide.$slide.removeAttr('style').removeClass( 'fancybox-slide--next fancybox-slide--previous' );\n\n                        if ( slide.pos === self.currPos ) {\n                            current.isMoved = false;\n\n                            self.complete();\n                        }\n                    });\n                });\n\n            } else {\n                self.$refs.stage.children().removeAttr( 'style' );\n            }\n\n            // Start transition that reveals current content\n            // or wait when it will be loaded\n\n            if ( current.isLoaded ) {\n                self.revealContent( current );\n\n            } else {\n                self.loadSlide( current );\n            }\n\n            self.preload();\n\n            if ( previous.pos === current.pos ) {\n                return;\n            }\n\n            // Handle previous slide\n            // =====================\n\n            transitionProps = 'fancybox-slide--' + ( previous.pos > current.pos ? 'next' : 'previous' );\n\n            previous.$slide.removeClass( 'fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous' );\n\n            previous.isComplete = false;\n\n            if ( !duration || ( !current.isMoved && !current.opts.transitionEffect ) ) {\n                return;\n            }\n\n            if ( current.isMoved ) {\n                previous.$slide.addClass( transitionProps );\n\n            } else {\n\n                transitionProps = 'fancybox-animated ' + transitionProps + ' fancybox-fx-' + current.opts.transitionEffect;\n\n                $.fancybox.animate( previous.$slide, transitionProps, duration, function() {\n                    previous.$slide.removeClass( transitionProps ).removeAttr( 'style' );\n                });\n\n            }\n\n        },\n\n\n        // Create new \"slide\" element\n        // These are gallery items  that are actually added to DOM\n        // =======================================================\n\n        createSlide : function( pos ) {\n\n            var self = this;\n            var $slide;\n            var index;\n\n            index = pos % self.group.length;\n            index = index < 0 ? self.group.length + index : index;\n\n            if ( !self.slides[ pos ] && self.group[ index ] ) {\n                $slide = $('<div class=\"fancybox-slide\"></div>').appendTo( self.$refs.stage );\n\n                self.slides[ pos ] = $.extend( true, {}, self.group[ index ], {\n                    pos      : pos,\n                    $slide   : $slide,\n                    isLoaded : false,\n                });\n\n                self.updateSlide( self.slides[ pos ] );\n            }\n\n            return self.slides[ pos ];\n        },\n\n\n        // Scale image to the actual size of the image\n        // ===========================================\n\n        scaleToActual : function( x, y, duration ) {\n\n            var self = this;\n\n            var current = self.current;\n            var $what   = current.$content;\n\n            var imgPos, posX, posY, scaleX, scaleY;\n\n            var canvasWidth  = parseInt( current.$slide.width(), 10 );\n            var canvasHeight = parseInt( current.$slide.height(), 10 );\n\n            var newImgWidth  = current.width;\n            var newImgHeight = current.height;\n\n            if ( !( current.type == 'image' && !current.hasError) || !$what || self.isAnimating) {\n                return;\n            }\n\n            $.fancybox.stop( $what );\n\n            self.isAnimating = true;\n\n            x = x === undefined ? canvasWidth  * 0.5  : x;\n            y = y === undefined ? canvasHeight * 0.5  : y;\n\n            imgPos = $.fancybox.getTranslate( $what );\n\n            scaleX  = newImgWidth  / imgPos.width;\n            scaleY  = newImgHeight / imgPos.height;\n\n            // Get center position for original image\n            posX = ( canvasWidth * 0.5  - newImgWidth * 0.5 );\n            posY = ( canvasHeight * 0.5 - newImgHeight * 0.5 );\n\n            // Make sure image does not move away from edges\n            if ( newImgWidth > canvasWidth ) {\n                posX = imgPos.left * scaleX - ( ( x * scaleX ) - x );\n\n                if ( posX > 0 ) {\n                    posX = 0;\n                }\n\n                if ( posX <  canvasWidth - newImgWidth ) {\n                    posX = canvasWidth - newImgWidth;\n                }\n            }\n\n            if ( newImgHeight > canvasHeight) {\n                posY = imgPos.top  * scaleY - ( ( y * scaleY ) - y );\n\n                if ( posY > 0 ) {\n                    posY = 0;\n                }\n\n                if ( posY <  canvasHeight - newImgHeight ) {\n                    posY = canvasHeight - newImgHeight;\n                }\n            }\n\n            self.updateCursor( newImgWidth, newImgHeight );\n\n            $.fancybox.animate( $what, {\n                top    : posY,\n                left   : posX,\n                scaleX : scaleX,\n                scaleY : scaleY\n            }, duration || 330, function() {\n                self.isAnimating = false;\n            });\n\n            // Stop slideshow\n            if ( self.SlideShow && self.SlideShow.isActive ) {\n                self.SlideShow.stop();\n            }\n        },\n\n\n        // Scale image to fit inside parent element\n        // ========================================\n\n        scaleToFit : function( duration ) {\n\n            var self = this;\n\n            var current = self.current;\n            var $what   = current.$content;\n            var end;\n\n            if ( !( current.type == 'image' && !current.hasError) || !$what || self.isAnimating ) {\n                return;\n            }\n\n            $.fancybox.stop( $what );\n\n            self.isAnimating = true;\n\n            end = self.getFitPos( current );\n\n            self.updateCursor( end.width, end.height );\n\n            $.fancybox.animate( $what, {\n                top    : end.top,\n                left   : end.left,\n                scaleX : end.width  / $what.width(),\n                scaleY : end.height / $what.height()\n            }, duration || 330, function() {\n                self.isAnimating = false;\n            });\n\n        },\n\n        // Calculate image size to fit inside viewport\n        // ===========================================\n\n        getFitPos : function( slide ) {\n            var self  = this;\n            var $what = slide.$content;\n\n            var imgWidth  = slide.width;\n            var imgHeight = slide.height;\n\n            var margin = slide.opts.margin;\n\n            var canvasWidth, canvasHeight, minRatio, width, height;\n\n            if ( !$what || !$what.length || ( !imgWidth && !imgHeight) ) {\n                return false;\n            }\n\n            // Convert \"margin to CSS style: [ top, right, bottom, left ]\n            if ( $.type( margin ) === \"number\" ) {\n                margin = [ margin, margin ];\n            }\n\n            if ( margin.length == 2 ) {\n                margin = [ margin[0], margin[1], margin[0], margin[1] ];\n            }\n\n            // We can not use $slide width here, because it can have different diemensions while in transiton\n            canvasWidth  = parseInt( self.$refs.stage.width(), 10 )  - ( margin[ 1 ] + margin[ 3 ] );\n            canvasHeight = parseInt( self.$refs.stage.height(), 10 ) - ( margin[ 0 ] + margin[ 2 ] );\n\n            minRatio = Math.min(1, canvasWidth / imgWidth, canvasHeight / imgHeight );\n\n            width  = Math.floor( minRatio * imgWidth );\n            height = Math.floor( minRatio * imgHeight );\n\n            // Use floor rounding to make sure it really fits\n            return {\n                top    : Math.floor( ( canvasHeight - height ) * 0.5 ) + margin[ 0 ],\n                left   : Math.floor( ( canvasWidth  - width )  * 0.5 ) + margin[ 3 ],\n                width  : width,\n                height : height\n            };\n\n        },\n\n\n        // Update position and content of all slides\n        // =========================================\n\n        update : function() {\n\n            var self = this;\n\n            $.each( self.slides, function( key, slide ) {\n                self.updateSlide( slide );\n            });\n\n        },\n\n\n        // Update slide position and scale content to fit\n        // ==============================================\n\n        updateSlide : function( slide ) {\n\n            var self  = this;\n            var $what = slide.$content;\n\n            if ( $what && ( slide.width || slide.height ) ) {\n                $.fancybox.stop( $what );\n\n                $.fancybox.setTranslate( $what, self.getFitPos( slide ) );\n\n                if ( slide.pos === self.currPos ) {\n                    self.updateCursor();\n                }\n            }\n\n            slide.$slide.trigger( 'refresh' );\n\n            self.trigger( 'onUpdate', slide );\n\n        },\n\n        // Update cursor style depending if content can be zoomed\n        // ======================================================\n\n        updateCursor : function( nextWidth, nextHeight ) {\n\n            var self = this;\n            var isScaledDown;\n\n            var $container = self.$refs.container.removeClass( 'fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut' );\n\n            if ( !self.current || self.isClosing ) {\n                return;\n            }\n\n            if ( self.isZoomable() ) {\n\n                $container.addClass( 'fancybox-is-zoomable' );\n\n                if ( nextWidth !== undefined && nextHeight !== undefined ) {\n                    isScaledDown = nextWidth < self.current.width && nextHeight < self.current.height;\n\n                } else {\n                    isScaledDown = self.isScaledDown();\n                }\n\n                if ( isScaledDown ) {\n\n                    // If image is scaled down, then, obviously, it can be zoomed to full size\n                    $container.addClass( 'fancybox-can-zoomIn' );\n\n                } else {\n\n                    if ( self.current.opts.touch ) {\n\n                        // If image size ir largen than available available and touch module is not disable,\n                        // then user can do panning\n                        $container.addClass( 'fancybox-can-drag' );\n\n                    } else {\n                        $container.addClass( 'fancybox-can-zoomOut' );\n                    }\n\n                }\n\n            } else if ( self.current.opts.touch ) {\n                $container.addClass( 'fancybox-can-drag' );\n            }\n\n        },\n\n\n        // Check if current slide is zoomable\n        // ==================================\n\n        isZoomable : function() {\n\n            var self = this;\n\n            var current = self.current;\n            var fitPos;\n\n            if ( !current || self.isClosing ) {\n                return;\n            }\n\n            // Assume that slide is zoomable if\n            //   - image is loaded successfuly\n            //   - click action is \"zoom\"\n            //   - actual size of the image is smaller than available area\n            if ( current.type === 'image' && current.isLoaded && !current.hasError &&\n                ( current.opts.clickContent === 'zoom' || ( $.isFunction( current.opts.clickContent ) && current.opts.clickContent( current ) ===  \"zoom\" ) )\n            ) {\n\n                fitPos = self.getFitPos( current );\n\n                if ( current.width > fitPos.width || current.height > fitPos.height ) {\n                    return true;\n                }\n\n            }\n\n            return false;\n\n        },\n\n\n        // Check if current image dimensions are smaller than actual\n        // =========================================================\n\n        isScaledDown : function() {\n\n            var self = this;\n\n            var current = self.current;\n            var $what   = current.$content;\n\n            var rez = false;\n\n            if ( $what ) {\n                rez = $.fancybox.getTranslate( $what );\n                rez = rez.width < current.width || rez.height < current.height;\n            }\n\n            return rez;\n\n        },\n\n\n        // Check if image dimensions exceed parent element\n        // ===============================================\n\n        canPan : function() {\n\n            var self = this;\n\n            var current = self.current;\n            var $what   = current.$content;\n\n            var rez = false;\n\n            if ( $what ) {\n                rez = self.getFitPos( current );\n                rez = Math.abs( $what.width() - rez.width ) > 1  || Math.abs( $what.height() - rez.height ) > 1;\n\n            }\n\n            return rez;\n\n        },\n\n\n        // Load content into the slide\n        // ===========================\n\n        loadSlide : function( slide ) {\n\n            var self = this, type, $slide;\n            var ajaxLoad;\n\n            if ( slide.isLoading ) {\n                return;\n            }\n\n            if ( slide.isLoaded ) {\n                return;\n            }\n\n            slide.isLoading = true;\n\n            self.trigger( 'beforeLoad', slide );\n\n            type   = slide.type;\n            $slide = slide.$slide;\n\n            $slide\n                .off( 'refresh' )\n                .trigger( 'onReset' )\n                .addClass( 'fancybox-slide--' + ( type || 'unknown' ) )\n                .addClass( slide.opts.slideClass );\n\n            // Create content depending on the type\n\n            switch ( type ) {\n\n                case 'image':\n\n                    self.setImage( slide );\n\n                break;\n\n                case 'iframe':\n\n                    self.setIframe( slide );\n\n                break;\n\n                case 'html':\n\n                    self.setContent( slide, slide.src || slide.content );\n\n                break;\n\n                case 'inline':\n\n                    if ( $( slide.src ).length ) {\n                        self.setContent( slide, $( slide.src ) );\n\n                    } else {\n                        self.setError( slide );\n                    }\n\n                break;\n\n                case 'ajax':\n\n                    self.showLoading( slide );\n\n                    ajaxLoad = $.ajax( $.extend( {}, slide.opts.ajax.settings, {\n                        url : slide.src,\n                        success : function ( data, textStatus ) {\n\n                            if ( textStatus === 'success' ) {\n                                self.setContent( slide, data );\n                            }\n\n                        },\n                        error : function ( jqXHR, textStatus ) {\n\n                            if ( jqXHR && textStatus !== 'abort' ) {\n                                self.setError( slide );\n                            }\n\n                        }\n                    }));\n\n                    $slide.one( 'onReset', function () {\n                        ajaxLoad.abort();\n                    });\n\n                break;\n\n                default:\n\n                    self.setError( slide );\n\n                break;\n\n            }\n\n            return true;\n\n        },\n\n\n        // Use thumbnail image, if possible\n        // ================================\n\n        setImage : function( slide ) {\n\n            var self   = this;\n            var srcset = slide.opts.srcset || slide.opts.image.srcset;\n\n            var found, temp, pxRatio, windowWidth;\n\n            // If we have \"srcset\", then we need to find matching \"src\" value.\n            // This is necessary, because when you set an src attribute, the browser will preload the image\n            // before any javascript or even CSS is applied.\n            if ( srcset ) {\n                pxRatio     = window.devicePixelRatio || 1;\n                windowWidth = window.innerWidth  * pxRatio;\n\n                temp = srcset.split(',').map(function ( el ) {\n            \t\tvar ret = {};\n\n            \t\tel.trim().split(/\\s+/).forEach(function ( el, i ) {\n                        var value = parseInt( el.substring(0, el.length - 1), 10 );\n\n            \t\t\tif ( i === 0 ) {\n            \t\t\t\treturn ( ret.url = el );\n            \t\t\t}\n\n                        if ( value ) {\n                            ret.value   = value;\n                            ret.postfix = el[ el.length - 1 ];\n                        }\n\n            \t\t});\n\n            \t\treturn ret;\n            \t});\n\n                // Sort by value\n                temp.sort(function (a, b) {\n                  return a.value - b.value;\n                });\n\n                // Ok, now we have an array of all srcset values\n                for ( var j = 0; j < temp.length; j++ ) {\n                    var el = temp[ j ];\n\n                    if ( ( el.postfix === 'w' && el.value >= windowWidth ) || ( el.postfix === 'x' && el.value >= pxRatio ) ) {\n                        found = el;\n                        break;\n                    }\n                }\n\n                // If not found, take the last one\n                if ( !found && temp.length ) {\n                    found = temp[ temp.length - 1 ];\n                }\n\n                if ( found ) {\n                    slide.src = found.url;\n\n                    // If we have default width/height values, we can calculate height for matching source\n                    if ( slide.width && slide.height && found.postfix == 'w' ) {\n                        slide.height = ( slide.width / slide.height ) * found.value;\n                        slide.width  = found.value;\n                    }\n                }\n            }\n\n            // This will be wrapper containing both ghost and actual image\n            slide.$content = $('<div class=\"fancybox-image-wrap\"></div>')\n                .addClass( 'fancybox-is-hidden' )\n                .appendTo( slide.$slide );\n\n\n            // If we have a thumbnail, we can display it while actual image is loading\n            // Users will not stare at black screen and actual image will appear gradually\n            if ( slide.opts.preload !== false && slide.opts.width && slide.opts.height && ( slide.opts.thumb || slide.opts.$thumb ) ) {\n\n                slide.width  = slide.opts.width;\n                slide.height = slide.opts.height;\n\n                slide.$ghost = $('<img />')\n                    .one('error', function() {\n\n                        $(this).remove();\n\n                        slide.$ghost = null;\n\n                        self.setBigImage( slide );\n\n                    })\n                    .one('load', function() {\n\n                        self.afterLoad( slide );\n\n                        self.setBigImage( slide );\n\n                    })\n                    .addClass( 'fancybox-image' )\n                    .appendTo( slide.$content )\n                    .attr( 'src', slide.opts.thumb || slide.opts.$thumb.attr( 'src' ) );\n\n            } else {\n\n                self.setBigImage( slide );\n\n            }\n\n        },\n\n\n        // Create full-size image\n        // ======================\n\n        setBigImage : function ( slide ) {\n            var self = this;\n            var $img = $('<img />');\n\n            slide.$image = $img\n                .one('error', function() {\n\n                    self.setError( slide );\n\n                })\n                .one('load', function() {\n\n                    // Clear timeout that checks if loading icon needs to be displayed\n                    clearTimeout( slide.timouts );\n\n                    slide.timouts = null;\n\n                    if ( self.isClosing ) {\n                        return;\n                    }\n\n                    slide.width  = this.naturalWidth;\n                    slide.height = this.naturalHeight;\n\n                    if ( slide.opts.image.srcset ) {\n                        $img.attr( 'sizes', '100vw' ).attr( 'srcset', slide.opts.image.srcset );\n                    }\n\n                    self.hideLoading( slide );\n\n                    if ( slide.$ghost ) {\n\n                        slide.timouts = setTimeout(function() {\n                            slide.timouts = null;\n\n                            slide.$ghost.hide();\n\n                        }, Math.min( 300, Math.max( 1000, slide.height / 1600 ) ) );\n\n                    } else {\n                        self.afterLoad( slide );\n                    }\n\n                })\n                .addClass( 'fancybox-image' )\n                .attr('src', slide.src)\n                .appendTo( slide.$content );\n\n            if ( ( $img[0].complete || $img[0].readyState == \"complete\" ) && $img[0].naturalWidth && $img[0].naturalHeight ) {\n                  $img.trigger( 'load' );\n\n            } else if( $img[0].error ) {\n                 $img.trigger( 'error' );\n\n            } else {\n\n                slide.timouts = setTimeout(function() {\n                    if ( !$img[0].complete && !slide.hasError ) {\n                        self.showLoading( slide );\n                    }\n\n                }, 100);\n\n            }\n\n        },\n\n\n        // Create iframe wrapper, iframe and bindings\n        // ==========================================\n\n        setIframe : function( slide ) {\n            var self\t= this,\n                opts    = slide.opts.iframe,\n                $slide\t= slide.$slide,\n                $iframe;\n\n            slide.$content = $('<div class=\"fancybox-content' + ( opts.preload ? ' fancybox-is-hidden' : '' ) + '\"></div>')\n                .css( opts.css )\n                .appendTo( $slide );\n\n            $iframe = $( opts.tpl.replace(/\\{rnd\\}/g, new Date().getTime()) )\n                .attr( opts.attr )\n                .appendTo( slide.$content );\n\n            if ( opts.preload ) {\n\n                self.showLoading( slide );\n\n                // Unfortunately, it is not always possible to determine if iframe is successfully loaded\n                // (due to browser security policy)\n\n                $iframe.on('load.fb error.fb', function(e) {\n                    this.isReady = 1;\n\n                    slide.$slide.trigger( 'refresh' );\n\n                    self.afterLoad( slide );\n                });\n\n                // Recalculate iframe content size\n                // ===============================\n\n                $slide.on('refresh.fb', function() {\n                    var $wrap = slide.$content,\n                        frameWidth  = opts.css.width,\n                        frameHeight = opts.css.height,\n                        scrollWidth,\n                        $contents,\n                        $body;\n\n                    if ( $iframe[0].isReady !== 1 ) {\n                        return;\n                    }\n\n                    // Check if content is accessible,\n                    // it will fail if frame is not with the same origin\n\n                    try {\n                        $contents = $iframe.contents();\n                        $body     = $contents.find('body');\n\n                    } catch (ignore) {}\n\n                    // Calculate dimensions for the wrapper\n                    if ( $body && $body.length ) {\n\n                        if ( frameWidth === undefined ) {\n                            scrollWidth = $iframe[0].contentWindow.document.documentElement.scrollWidth;\n\n                            frameWidth = Math.ceil( $body.outerWidth(true) + ( $wrap.width() - scrollWidth ) );\n                            frameWidth += $wrap.outerWidth() - $wrap.innerWidth();\n                        }\n\n                        if ( frameHeight === undefined ) {\n                            frameHeight = Math.ceil( $body.outerHeight(true) );\n                            frameHeight += $wrap.outerHeight() - $wrap.innerHeight();\n                        }\n\n                        // Resize wrapper to fit iframe content\n                        if ( frameWidth ) {\n                            $wrap.width( frameWidth );\n                        }\n\n                        if ( frameHeight ) {\n                            $wrap.height( frameHeight );\n                        }\n                    }\n\n                    $wrap.removeClass( 'fancybox-is-hidden' );\n\n                });\n\n            } else {\n\n                this.afterLoad( slide );\n\n            }\n\n            $iframe.attr( 'src', slide.src );\n\n            if ( slide.opts.smallBtn === true ) {\n                slide.$content.prepend( self.translate( slide, slide.opts.btnTpl.smallBtn ) );\n            }\n\n            // Remove iframe if closing or changing gallery item\n            $slide.one( 'onReset', function () {\n\n                // This helps IE not to throw errors when closing\n                try {\n\n                    $( this ).find( 'iframe' ).hide().attr( 'src', '//about:blank' );\n\n                } catch ( ignore ) {}\n\n                $( this ).empty();\n\n                slide.isLoaded = false;\n\n            });\n\n        },\n\n\n        // Wrap and append content to the slide\n        // ======================================\n\n        setContent : function ( slide, content ) {\n\n            var self = this;\n\n            if ( self.isClosing ) {\n                return;\n            }\n\n            self.hideLoading( slide );\n\n            slide.$slide.empty();\n\n            if ( isQuery( content ) && content.parent().length ) {\n\n                // If content is a jQuery object, then it will be moved to the slide.\n                // The placeholder is created so we will know where to put it back.\n                // If user is navigating gallery fast, then the content might be already inside fancyBox\n                // =====================================================================================\n\n                // Make sure content is not already moved to fancyBox\n                content.parent( '.fancybox-slide--inline' ).trigger( 'onReset' );\n\n                // Create temporary element marking original place of the content\n                slide.$placeholder = $( '<div></div>' ).hide().insertAfter( content );\n\n                // Make sure content is visible\n                content.css('display', 'inline-block');\n\n            } else if ( !slide.hasError ) {\n\n                // If content is just a plain text, try to convert it to html\n                if ( $.type( content ) === 'string' ) {\n                    content = $('<div>').append( $.trim( content ) ).contents();\n\n                    // If we have text node, then add wrapping element to make vertical alignment work\n                    if ( content[0].nodeType === 3 ) {\n                        content = $('<div>').html( content );\n                    }\n                }\n\n                // If \"filter\" option is provided, then filter content\n                if ( slide.opts.filter ) {\n                    content = $('<div>').html( content ).find( slide.opts.filter );\n                }\n\n            }\n\n            slide.$slide.one('onReset', function () {\n\n                // Put content back\n                if ( slide.$placeholder ) {\n                    slide.$placeholder.after( content.hide() ).remove();\n\n                    slide.$placeholder = null;\n                }\n\n                // Remove custom close button\n                if ( slide.$smallBtn ) {\n                    slide.$smallBtn.remove();\n\n                    slide.$smallBtn = null;\n                }\n\n                // Remove content and mark slide as not loaded\n                if ( !slide.hasError ) {\n                    $(this).empty();\n\n                    slide.isLoaded = false;\n                }\n\n            });\n\n            slide.$content = $( content ).appendTo( slide.$slide );\n\n            this.afterLoad( slide );\n        },\n\n        // Display error message\n        // =====================\n\n        setError : function ( slide ) {\n\n            slide.hasError = true;\n\n            slide.$slide.removeClass( 'fancybox-slide--' + slide.type );\n\n            this.setContent( slide, this.translate( slide, slide.opts.errorTpl ) );\n\n        },\n\n\n        // Show loading icon inside the slide\n        // ==================================\n\n        showLoading : function( slide ) {\n\n            var self = this;\n\n            slide = slide || self.current;\n\n            if ( slide && !slide.$spinner ) {\n                slide.$spinner = $( self.opts.spinnerTpl ).appendTo( slide.$slide );\n            }\n\n        },\n\n        // Remove loading icon from the slide\n        // ==================================\n\n        hideLoading : function( slide ) {\n\n            var self = this;\n\n            slide = slide || self.current;\n\n            if ( slide && slide.$spinner ) {\n                slide.$spinner.remove();\n\n                delete slide.$spinner;\n            }\n\n        },\n\n\n        // Adjustments after slide content has been loaded\n        // ===============================================\n\n        afterLoad : function( slide ) {\n\n            var self = this;\n\n            if ( self.isClosing ) {\n                return;\n            }\n\n            slide.isLoading = false;\n            slide.isLoaded  = true;\n\n            self.trigger( 'afterLoad', slide );\n\n            self.hideLoading( slide );\n\n            if ( slide.opts.smallBtn && !slide.$smallBtn ) {\n                slide.$smallBtn = $( self.translate( slide, slide.opts.btnTpl.smallBtn ) ).appendTo( slide.$content.filter('div,form').first() );\n            }\n\n            if ( slide.opts.protect && slide.$content && !slide.hasError ) {\n\n                // Disable right click\n                slide.$content.on( 'contextmenu.fb', function( e ) {\n                     if ( e.button == 2 ) {\n                         e.preventDefault();\n                     }\n\n                    return true;\n                });\n\n                // Add fake element on top of the image\n                // This makes a bit harder for user to select image\n                if ( slide.type === 'image' ) {\n                    $( '<div class=\"fancybox-spaceball\"></div>' ).appendTo( slide.$content );\n                }\n\n            }\n\n            self.revealContent( slide );\n\n        },\n\n\n        // Make content visible\n        // This method is called right after content has been loaded or\n        // user navigates gallery and transition should start\n        // ============================================================\n\n        revealContent : function( slide ) {\n\n            var self   = this;\n            var $slide = slide.$slide;\n\n            var effect, effectClassName, duration, opacity, end, start = false;\n\n            effect   = slide.opts[ self.firstRun ? 'animationEffect'   : 'transitionEffect' ];\n            duration = slide.opts[ self.firstRun ? 'animationDuration' : 'transitionDuration' ];\n\n            duration = parseInt( slide.forcedDuration === undefined ? duration : slide.forcedDuration, 10 );\n\n            if ( slide.isMoved || slide.pos !== self.currPos || !duration ) {\n                effect = false;\n            }\n\n            // Check if can zoom\n            if ( effect === 'zoom' && !( slide.pos === self.currPos && duration && slide.type === 'image' && !slide.hasError && ( start = self.getThumbPos( slide ) ) ) ) {\n                effect = 'fade';\n            }\n\n            // Zoom animation\n            // ==============\n\n            if ( effect === 'zoom' ) {\n                end = self.getFitPos( slide );\n\n                end.scaleX = end.width  / start.width;\n                end.scaleY = end.height / start.height;\n\n                delete end.width;\n                delete end.height;\n\n                // Check if we need to animate opacity\n                opacity = slide.opts.zoomOpacity;\n\n                if ( opacity == 'auto' ) {\n                    opacity = Math.abs( slide.width / slide.height - start.width / start.height ) > 0.1;\n                }\n\n                if ( opacity ) {\n                    start.opacity = 0.1;\n                    end.opacity   = 1;\n                }\n\n                // Draw image at start position\n                $.fancybox.setTranslate( slide.$content.removeClass( 'fancybox-is-hidden' ), start );\n\n                forceRedraw( slide.$content );\n\n                // Start animation\n                $.fancybox.animate( slide.$content, end, duration, function() {\n                    self.complete();\n                });\n\n                return;\n            }\n\n\n            self.updateSlide( slide );\n\n\n            // Simply show content\n            // ===================\n\n            if ( !effect ) {\n                forceRedraw( $slide );\n\n                slide.$content.removeClass( 'fancybox-is-hidden' );\n\n                if ( slide.pos === self.currPos ) {\n                    self.complete();\n                }\n\n                return;\n            }\n\n            $.fancybox.stop( $slide );\n\n            effectClassName = 'fancybox-animated fancybox-slide--' + ( slide.pos >= self.prevPos ? 'next' : 'previous' ) + ' fancybox-fx-' + effect;\n\n            $slide.removeAttr( 'style' ).removeClass( 'fancybox-slide--current fancybox-slide--next fancybox-slide--previous' ).addClass( effectClassName );\n\n            slide.$content.removeClass( 'fancybox-is-hidden' );\n\n            //Force reflow for CSS3 transitions\n            forceRedraw( $slide );\n\n            $.fancybox.animate( $slide, 'fancybox-slide--current', duration, function(e) {\n                $slide.removeClass( effectClassName ).removeAttr( 'style' );\n\n                if ( slide.pos === self.currPos ) {\n                    self.complete();\n                }\n\n            }, true);\n\n        },\n\n\n        // Check if we can and have to zoom from thumbnail\n        //================================================\n\n        getThumbPos : function( slide ) {\n\n            var self = this;\n            var rez  = false;\n\n            // Check if element is inside the viewport by at least 1 pixel\n            var isElementVisible = function( $el ) {\n                var element = $el[0];\n\n                var elementRect = element.getBoundingClientRect();\n                var parentRects = [];\n\n                var visibleInAllParents;\n\n                while ( element.parentElement !== null ) {\n                    if ( $(element.parentElement).css('overflow') === 'hidden'  || $(element.parentElement).css('overflow') === 'auto' ) {\n                        parentRects.push(element.parentElement.getBoundingClientRect());\n                    }\n\n                    element = element.parentElement;\n                }\n\n                visibleInAllParents = parentRects.every(function(parentRect){\n                    var visiblePixelX = Math.min(elementRect.right, parentRect.right) - Math.max(elementRect.left, parentRect.left);\n                    var visiblePixelY = Math.min(elementRect.bottom, parentRect.bottom) - Math.max(elementRect.top, parentRect.top);\n\n                    return visiblePixelX > 0 && visiblePixelY > 0;\n                });\n\n                return visibleInAllParents &&\n                    elementRect.bottom > 0 && elementRect.right > 0 &&\n                    elementRect.left < $(window).width() && elementRect.top < $(window).height();\n            };\n\n            var $thumb   = slide.opts.$thumb;\n            var thumbPos = $thumb ? $thumb.offset() : 0;\n            var slidePos;\n\n            if ( thumbPos && $thumb[0].ownerDocument === document && isElementVisible( $thumb ) ) {\n                slidePos = self.$refs.stage.offset();\n\n                rez = {\n                    top    : thumbPos.top  - slidePos.top  + parseFloat( $thumb.css( \"border-top-width\" ) || 0 ),\n                    left   : thumbPos.left - slidePos.left + parseFloat( $thumb.css( \"border-left-width\" ) || 0 ),\n                    width  : $thumb.width(),\n                    height : $thumb.height(),\n                    scaleX : 1,\n                    scaleY : 1\n                };\n            }\n\n            return rez;\n        },\n\n\n        // Final adjustments after current gallery item is moved to position\n        // and it`s content is loaded\n        // ==================================================================\n\n        complete : function() {\n\n            var self = this;\n\n            var current = self.current;\n            var slides  = {};\n\n            if ( current.isMoved || !current.isLoaded || current.isComplete ) {\n                return;\n            }\n\n            current.isComplete = true;\n\n            current.$slide.siblings().trigger( 'onReset' );\n\n            // Trigger any CSS3 transiton inside the slide\n            forceRedraw( current.$slide );\n\n            current.$slide.addClass( 'fancybox-slide--complete' );\n\n            // Remove unnecessary slides\n            $.each( self.slides, function( key, slide ) {\n                if ( slide.pos >= self.currPos - 1 && slide.pos <= self.currPos + 1 ) {\n                    slides[ slide.pos ] = slide;\n\n                } else if ( slide ) {\n\n                    $.fancybox.stop( slide.$slide );\n\n                    slide.$slide.off().remove();\n                }\n            });\n\n            self.slides = slides;\n\n            self.updateCursor();\n\n            self.trigger( 'afterShow' );\n\n            // Try to focus on the first focusable element\n            if ( $( document.activeElement ).is( '[disabled]' ) || ( current.opts.autoFocus && !( current.type == 'image' || current.type === 'iframe' ) ) ) {\n                self.focus();\n            }\n\n        },\n\n\n        // Preload next and previous slides\n        // ================================\n\n        preload : function() {\n            var self = this;\n            var next, prev;\n\n            if ( self.group.length < 2 ) {\n                return;\n            }\n\n            next  = self.slides[ self.currPos + 1 ];\n            prev  = self.slides[ self.currPos - 1 ];\n\n            if ( next && next.type === 'image' ) {\n                self.loadSlide( next );\n            }\n\n            if ( prev && prev.type === 'image' ) {\n                self.loadSlide( prev );\n            }\n\n        },\n\n\n        // Try to find and focus on the first focusable element\n        // ====================================================\n\n        focus : function() {\n            var current = this.current;\n            var $el;\n\n            if ( this.isClosing ) {\n                return;\n            }\n\n            if ( current && current.isComplete ) {\n\n                // Look for first input with autofocus attribute\n                $el = current.$slide.find('input[autofocus]:enabled:visible:first');\n\n                if ( !$el.length ) {\n                    $el = current.$slide.find('button,:input,[tabindex],a').filter(':enabled:visible:first');\n                }\n            }\n\n            $el = $el && $el.length ? $el : this.$refs.container;\n\n            $el.focus();\n        },\n\n\n        // Activates current instance - brings container to the front and enables keyboard,\n        // notifies other instances about deactivating\n        // =================================================================================\n\n        activate : function () {\n            var self = this;\n\n            // Deactivate all instances\n            $( '.fancybox-container' ).each(function () {\n                var instance = $(this).data( 'FancyBox' );\n\n                // Skip self and closing instances\n                if (instance && instance.id !== self.id && !instance.isClosing) {\n                    instance.trigger( 'onDeactivate' );\n\n                    instance.removeEvents();\n\n                    instance.isVisible = false;\n                }\n\n            });\n\n            self.isVisible = true;\n\n            if ( self.current || self.isIdle ) {\n                self.update();\n\n                self.updateControls();\n            }\n\n            self.trigger( 'onActivate' );\n\n            self.addEvents();\n        },\n\n\n        // Start closing procedure\n        // This will start \"zoom-out\" animation if needed and clean everything up afterwards\n        // =================================================================================\n\n        close : function( e, d ) {\n\n            var self    = this;\n            var current = self.current;\n\n            var effect, duration;\n            var $what, opacity, start, end;\n\n            var done = function() {\n                self.cleanUp( e );\n            };\n\n            if ( self.isClosing ) {\n                return false;\n            }\n\n            self.isClosing = true;\n\n            // If beforeClose callback prevents closing, make sure content is centered\n            if ( self.trigger( 'beforeClose', e ) === false ) {\n                self.isClosing = false;\n\n                requestAFrame(function() {\n                    self.update();\n                });\n\n                return false;\n            }\n\n            // Remove all events\n            // If there are multiple instances, they will be set again by \"activate\" method\n            self.removeEvents();\n\n            if ( current.timouts ) {\n                clearTimeout( current.timouts );\n            }\n\n            $what    = current.$content;\n            effect   = current.opts.animationEffect;\n            duration = $.isNumeric( d ) ? d : ( effect ? current.opts.animationDuration : 0 );\n\n            // Remove other slides\n            current.$slide.off( transitionEnd ).removeClass( 'fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated' );\n\n            current.$slide.siblings().trigger( 'onReset' ).remove();\n\n            // Trigger animations\n            if ( duration ) {\n                self.$refs.container.removeClass( 'fancybox-is-open' ).addClass( 'fancybox-is-closing' );\n            }\n\n            // Clean up\n            self.hideLoading( current );\n\n            self.hideControls();\n\n            self.updateCursor();\n\n            // Check if possible to zoom-out\n            if ( effect === 'zoom' && !( e !== true && $what && duration && current.type === 'image' && !current.hasError && ( end = self.getThumbPos( current ) ) ) ) {\n                effect = 'fade';\n            }\n\n            if ( effect === 'zoom' ) {\n                $.fancybox.stop( $what );\n\n                start = $.fancybox.getTranslate( $what );\n\n                start.width  = start.width  * start.scaleX;\n                start.height = start.height * start.scaleY;\n\n                // Check if we need to animate opacity\n                opacity = current.opts.zoomOpacity;\n\n                if ( opacity == 'auto' ) {\n                    opacity = Math.abs( current.width / current.height - end.width / end.height ) > 0.1;\n                }\n\n                if ( opacity ) {\n                    end.opacity = 0;\n                }\n\n                start.scaleX = start.width  / end.width;\n                start.scaleY = start.height / end.height;\n\n                start.width  = end.width;\n                start.height = end.height;\n\n                $.fancybox.setTranslate( current.$content, start );\n\n                $.fancybox.animate( current.$content, end, duration, done );\n\n                return true;\n            }\n\n            if ( effect && duration ) {\n\n                // If skip animation\n                if ( e === true ) {\n                    setTimeout( done, duration );\n\n                } else {\n                    $.fancybox.animate( current.$slide.removeClass( 'fancybox-slide--current' ), 'fancybox-animated fancybox-slide--previous fancybox-fx-' + effect, duration, done );\n                }\n\n            } else {\n                done();\n            }\n\n            return true;\n        },\n\n\n        // Final adjustments after removing the instance\n        // =============================================\n\n        cleanUp : function( e ) {\n            var self  = this,\n                $body = $( 'body' ),\n                instance,\n                offset;\n\n            self.current.$slide.trigger( 'onReset' );\n\n            self.$refs.container.empty().remove();\n\n            self.trigger( 'afterClose', e );\n\n            // Place back focus\n            if ( self.$lastFocus && !!self.current.opts.backFocus ) {\n                self.$lastFocus.focus();\n            }\n\n            self.current = null;\n\n            // Check if there are other instances\n            instance = $.fancybox.getInstance();\n\n            if ( instance ) {\n                instance.activate();\n\n            } else {\n\n                $W.scrollTop( self.scrollTop ).scrollLeft( self.scrollLeft );\n\n                $body.removeClass( 'fancybox-active compensate-for-scrollbar' );\n\n                if ( $body.hasClass( 'fancybox-iosfix' ) ) {\n\n                    offset = parseInt(document.body.style.top, 10);\n\n                    $body.removeClass( 'fancybox-iosfix' ).css( 'top', '' ).scrollTop( offset * -1 );\n                }\n\n                $( '#fancybox-style-noscroll' ).remove();\n\n            }\n\n        },\n\n\n        // Call callback and trigger an event\n        // ==================================\n\n        trigger : function( name, slide ) {\n            var args  = Array.prototype.slice.call(arguments, 1),\n                self  = this,\n                obj   = slide && slide.opts ? slide : self.current,\n                rez;\n\n            if ( obj ) {\n                args.unshift( obj );\n\n            } else {\n                obj = self;\n            }\n\n            args.unshift( self );\n\n            if ( $.isFunction( obj.opts[ name ] ) ) {\n                rez = obj.opts[ name ].apply( obj, args );\n            }\n\n            if ( rez === false ) {\n                return rez;\n            }\n\n            if ( name === 'afterClose' || !self.$refs ) {\n                $D.trigger( name + '.fb', args );\n\n            } else {\n                self.$refs.container.trigger( name + '.fb', args );\n            }\n\n        },\n\n\n        // Update infobar values, navigation button states and reveal caption\n        // ==================================================================\n\n        updateControls : function ( force ) {\n\n            var self = this;\n\n            var current  = self.current,\n                index    = current.index,\n                caption  = current.opts.caption,\n                $container = self.$refs.container,\n                $caption   = self.$refs.caption;\n\n            // Recalculate content dimensions\n            current.$slide.trigger( 'refresh' );\n\n            self.$caption = caption && caption.length ? $caption.html( caption ) : null;\n\n            if ( !self.isHiddenControls && !self.isIdle ) {\n                self.showControls();\n            }\n\n            // Update info and navigation elements\n            $container.find('[data-fancybox-count]').html( self.group.length );\n            $container.find('[data-fancybox-index]').html( index + 1 );\n\n            $container.find('[data-fancybox-prev]').prop( 'disabled', ( !current.opts.loop && index <= 0 ) );\n            $container.find('[data-fancybox-next]').prop( 'disabled', ( !current.opts.loop && index >= self.group.length - 1 ) );\n\n            if ( current.type === 'image' ) {\n\n                // Update download button source\n                $container.find('[data-fancybox-download]').attr( 'href', current.opts.image.src || current.src ).show();\n\n            } else {\n                $container.find('[data-fancybox-download],[data-fancybox-zoom]').hide();\n            }\n        },\n\n        // Hide toolbar and caption\n        // ========================\n\n        hideControls : function () {\n\n            this.isHiddenControls = true;\n\n            this.$refs.container.removeClass( 'fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav' );\n\n        },\n\n        showControls : function() {\n            var self = this;\n            var opts = self.current ? self.current.opts : self.opts;\n            var $container = self.$refs.container;\n\n            self.isHiddenControls   = false;\n            self.idleSecondsCounter = 0;\n\n            $container\n                .toggleClass( 'fancybox-show-toolbar', !!( opts.toolbar && opts.buttons ) )\n                .toggleClass( 'fancybox-show-infobar', !!( opts.infobar && self.group.length > 1 ) )\n                .toggleClass( 'fancybox-show-nav',     !!( opts.arrows && self.group.length > 1 ) )\n                .toggleClass( 'fancybox-is-modal',     !!opts.modal );\n\n            if ( self.$caption ) {\n                $container.addClass( 'fancybox-show-caption ');\n\n            } else {\n               $container.removeClass( 'fancybox-show-caption' );\n           }\n\n       },\n\n\n       // Toggle toolbar and caption\n       // ==========================\n\n       toggleControls : function() {\n           if ( this.isHiddenControls ) {\n               this.showControls();\n\n           } else {\n               this.hideControls();\n           }\n\n       },\n\n\n    });\n\n\n    $.fancybox = {\n\n        version  : \"3.2.3\",\n        defaults : defaults,\n\n\n        // Get current instance and execute a command.\n        //\n        // Examples of usage:\n        //\n        //   $instance = $.fancybox.getInstance();\n        //   $.fancybox.getInstance().jumpTo( 1 );\n        //   $.fancybox.getInstance( 'jumpTo', 1 );\n        //   $.fancybox.getInstance( function() {\n        //       console.info( this.currIndex );\n        //   });\n        // ======================================================\n\n        getInstance : function ( command ) {\n            var instance = $('.fancybox-container:not(\".fancybox-is-closing\"):last').data( 'FancyBox' );\n            var args     = Array.prototype.slice.call(arguments, 1);\n\n            if ( instance instanceof FancyBox ) {\n\n                if ( $.type( command ) === 'string' ) {\n                    instance[ command ].apply( instance, args );\n\n                } else if ( $.type( command ) === 'function' ) {\n                    command.apply( instance, args );\n                }\n\n                return instance;\n            }\n\n            return false;\n\n        },\n\n\n        // Create new instance\n        // ===================\n\n        open : function ( items, opts, index ) {\n            return new FancyBox( items, opts, index );\n        },\n\n\n        // Close current or all instances\n        // ==============================\n\n        close : function ( all ) {\n            var instance = this.getInstance();\n\n            if ( instance ) {\n                instance.close();\n\n                // Try to find and close next instance\n\n                if ( all === true ) {\n                    this.close();\n                }\n            }\n\n        },\n\n        // Close instances and unbind all events\n        // ==============================\n\n        destroy : function() {\n\n            this.close( true );\n\n            $D.off( 'click.fb-start' );\n\n        },\n\n\n        // Try to detect mobile devices\n        // ============================\n\n        isMobile : document.createTouch !== undefined && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),\n\n\n        // Detect if 'translate3d' support is available\n        // ============================================\n\n        use3d : (function() {\n            var div = document.createElement('div');\n\n            return window.getComputedStyle && window.getComputedStyle( div ).getPropertyValue('transform') && !(document.documentMode && document.documentMode < 11);\n        }()),\n\n        // Helper function to get current visual state of an element\n        // returns array[ top, left, horizontal-scale, vertical-scale, opacity ]\n        // =====================================================================\n\n        getTranslate : function( $el ) {\n            var matrix;\n\n            if ( !$el || !$el.length ) {\n                return false;\n            }\n\n            matrix  = $el.eq( 0 ).css('transform');\n\n            if ( matrix && matrix.indexOf( 'matrix' ) !== -1 ) {\n                matrix = matrix.split('(')[1];\n                matrix = matrix.split(')')[0];\n                matrix = matrix.split(',');\n            } else {\n                matrix = [];\n            }\n\n            if ( matrix.length ) {\n\n                // If IE\n                if ( matrix.length > 10 ) {\n                    matrix = [ matrix[13], matrix[12], matrix[0], matrix[5] ];\n\n                } else {\n                    matrix = [ matrix[5], matrix[4], matrix[0], matrix[3]];\n                }\n\n                matrix = matrix.map(parseFloat);\n\n            } else {\n                matrix = [ 0, 0, 1, 1 ];\n\n                var transRegex = /\\.*translate\\((.*)px,(.*)px\\)/i;\n                var transRez = transRegex.exec( $el.eq( 0 ).attr('style') );\n\n                if ( transRez ) {\n                    matrix[ 0 ] = parseFloat( transRez[2] );\n                    matrix[ 1 ] = parseFloat( transRez[1] );\n                }\n            }\n\n            return {\n                top     : matrix[ 0 ],\n                left    : matrix[ 1 ],\n                scaleX  : matrix[ 2 ],\n                scaleY  : matrix[ 3 ],\n                opacity : parseFloat( $el.css('opacity') ),\n                width   : $el.width(),\n                height  : $el.height()\n            };\n\n        },\n\n\n        // Shortcut for setting \"translate3d\" properties for element\n        // Can set be used to set opacity, too\n        // ========================================================\n\n        setTranslate : function( $el, props ) {\n            var str  = '';\n            var css  = {};\n\n            if ( !$el || !props ) {\n                return;\n            }\n\n            if ( props.left !== undefined || props.top !== undefined ) {\n                str = ( props.left === undefined ? $el.position().left : props.left )  + 'px, ' + ( props.top === undefined ? $el.position().top : props.top ) + 'px';\n\n                if ( this.use3d ) {\n                    str = 'translate3d(' + str + ', 0px)';\n\n                } else {\n                    str = 'translate(' + str + ')';\n                }\n            }\n\n            if ( props.scaleX !== undefined && props.scaleY !== undefined ) {\n                str = (str.length ? str + ' ' : '') + 'scale(' + props.scaleX + ', ' + props.scaleY + ')';\n            }\n\n            if ( str.length ) {\n                css.transform = str;\n            }\n\n            if ( props.opacity !== undefined ) {\n                css.opacity = props.opacity;\n            }\n\n            if ( props.width !== undefined ) {\n                css.width = props.width;\n            }\n\n            if ( props.height !== undefined ) {\n                css.height = props.height;\n            }\n\n            return $el.css( css );\n        },\n\n\n        // Simple CSS transition handler\n        // =============================\n\n        animate : function ( $el, to, duration, callback, leaveAnimationName ) {\n            if ( $.isFunction( duration ) ) {\n                callback = duration;\n                duration = null;\n            }\n\n            if ( !$.isPlainObject( to ) ) {\n                $el.removeAttr('style');\n            }\n\n            $el.on( ( transitionEnd || 'transitionend' ), function(e) {\n\n                // Skip events from child elements and z-index change\n                if ( e && e.originalEvent && ( !$el.is( e.originalEvent.target ) || e.originalEvent.propertyName == 'z-index' ) ) {\n                    return;\n                }\n\n                $.fancybox.stop( $el );\n\n                if ( $.isPlainObject( to ) ) {\n\n                    if ( to.scaleX !== undefined && to.scaleY !== undefined ) {\n                        $el.css( 'transition-duration', '0ms' );\n\n                        to.width  = Math.round( $el.width()  * to.scaleX );\n                        to.height = Math.round( $el.height() * to.scaleY );\n\n                        to.scaleX = 1;\n                        to.scaleY = 1;\n\n                        $.fancybox.setTranslate( $el, to );\n                    }\n\n                } else if ( leaveAnimationName !== true ) {\n                    $el.removeClass( to );\n                }\n\n                if ( $.isFunction( callback ) ) {\n                    callback( e );\n                }\n\n            });\n\n            if ( $.isNumeric( duration ) ) {\n                $el.css( 'transition-duration', duration + 'ms' );\n            }\n\n            if ( $.isPlainObject( to ) ) {\n                $.fancybox.setTranslate( $el, to );\n\n            } else {\n                $el.addClass( to );\n            }\n\n            if ( to.scaleX && $el.hasClass( 'fancybox-image-wrap' ) ) {\n                $el.parent().addClass( 'fancybox-is-scaling' );\n            }\n\n            $el.data(\"timer\", setTimeout(function() {\n                $el.trigger( 'transitionend' );\n            }, duration + 16));\n\n        },\n\n        stop : function( $el ) {\n            clearTimeout( $el.data(\"timer\") );\n\n            $el.off( transitionEnd || 'transitionend' );\n\n            if ( $el.hasClass( 'fancybox-image-wrap' ) ) {\n                $el.parent().removeClass( 'fancybox-is-scaling' );\n            }\n        }\n\n    };\n\n\n    // Default click handler for \"fancyboxed\" links\n    // ============================================\n\n    function _run( e ) {\n        var $target\t= $( e.currentTarget ),\n            opts\t= e.data ? e.data.options : {},\n            value\t= $target.attr( 'data-fancybox' ) || '',\n            index\t= 0,\n            items   = [];\n\n        // Avoid opening multiple times\n        if ( e.isDefaultPrevented() ) {\n            return;\n        }\n\n        e.preventDefault();\n\n        // Get all related items and find index for clicked one\n        if ( value ) {\n            items = opts.selector ? $( opts.selector ) : ( e.data ? e.data.items : [] );\n            items = items.length ? items.filter( '[data-fancybox=\"' + value + '\"]' ) : $( '[data-fancybox=\"' + value + '\"]' );\n\n            index = items.index( $target );\n\n            // Sometimes current item can not be found\n            // (for example, when slider clones items)\n            if ( index < 0 ) {\n                index = 0;\n            }\n\n        } else {\n            items = [ $target ];\n        }\n\n        $.fancybox.open( items, opts, index );\n    }\n\n\n    // Create a jQuery plugin\n    // ======================\n\n    $.fn.fancybox = function (options) {\n        var selector;\n\n        options  = options || {};\n        selector = options.selector || false;\n\n        if ( selector ) {\n\n            $( 'body' ).off( 'click.fb-start', selector ).on( 'click.fb-start', selector, {\n                options : options\n            }, _run );\n\n        } else {\n\n            this.off( 'click.fb-start' ).on( 'click.fb-start', {\n                items   : this,\n                options : options\n            }, _run);\n\n        }\n\n        return this;\n    };\n\n\n    // Self initializing plugin\n    // ========================\n\n    $D.on( 'click.fb-start', '[data-fancybox]', _run );\n\n}( window, document, window.jQuery || jQuery ));\n\n// ==========================================================================\n//\n// Media\n// Adds additional media type support\n//\n// ==========================================================================\n;(function ($) {\n\n\t'use strict';\n\n\t// Formats matching url to final form\n\n\tvar format = function (url, rez, params) {\n\t\tif ( !url ) {\n\t\t\treturn;\n\t\t}\n\n\t\tparams = params || '';\n\n\t\tif ( $.type(params) === \"object\" ) {\n\t\t\tparams = $.param(params, true);\n\t\t}\n\n\t\t$.each(rez, function (key, value) {\n\t\t\turl = url.replace('$' + key, value || '');\n\t\t});\n\n\t\tif (params.length) {\n\t\t\turl += (url.indexOf('?') > 0 ? '&' : '?') + params;\n\t\t}\n\n\t\treturn url;\n\t};\n\n\t// Object containing properties for each media type\n\n\tvar defaults = {\n\t\tyoutube : {\n\t\t\tmatcher : /(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,\n\t\t\tparams  : {\n\t\t\t\tautoplay : 1,\n\t\t\t\tautohide : 1,\n\t\t\t\tfs  : 1,\n\t\t\t\trel : 0,\n\t\t\t\thd  : 1,\n\t\t\t\twmode : 'transparent',\n\t\t\t\tenablejsapi : 1,\n\t\t\t\thtml5 : 1\n\t\t\t},\n\t\t\tparamPlace : 8,\n\t\t\ttype  : 'iframe',\n\t\t\turl   : '//www.youtube.com/embed/$4',\n\t\t\tthumb : '//img.youtube.com/vi/$4/hqdefault.jpg'\n\t\t},\n\n\t\tvimeo : {\n\t\t\tmatcher : /^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/,\n\t\t\tparams  : {\n\t\t\t\tautoplay : 1,\n\t\t\t\thd : 1,\n\t\t\t\tshow_title    : 1,\n\t\t\t\tshow_byline   : 1,\n\t\t\t\tshow_portrait : 0,\n\t\t\t\tfullscreen    : 1,\n\t\t\t\tapi : 1\n\t\t\t},\n\t\t\tparamPlace : 3,\n\t\t\ttype : 'iframe',\n\t\t\turl : '//player.vimeo.com/video/$2'\n\t\t},\n\n\t\tmetacafe : {\n\t\t\tmatcher : /metacafe.com\\/watch\\/(\\d+)\\/(.*)?/,\n\t\t\ttype    : 'iframe',\n\t\t\turl     : '//www.metacafe.com/embed/$1/?ap=1'\n\t\t},\n\n\t\tdailymotion : {\n\t\t\tmatcher : /dailymotion.com\\/video\\/(.*)\\/?(.*)/,\n\t\t\tparams : {\n\t\t\t\tadditionalInfos : 0,\n\t\t\t\tautoStart : 1\n\t\t\t},\n\t\t\ttype : 'iframe',\n\t\t\turl  : '//www.dailymotion.com/embed/video/$1'\n\t\t},\n\n\t\tvine : {\n\t\t\tmatcher : /vine.co\\/v\\/([a-zA-Z0-9\\?\\=\\-]+)/,\n\t\t\ttype    : 'iframe',\n\t\t\turl     : '//vine.co/v/$1/embed/simple'\n\t\t},\n\n\t\tinstagram : {\n\t\t\tmatcher : /(instagr\\.am|instagram\\.com)\\/p\\/([a-zA-Z0-9_\\-]+)\\/?/i,\n\t\t\ttype    : 'image',\n\t\t\turl     : '//$1/p/$2/media/?size=l'\n\t\t},\n\n\t\t// Examples:\n\t\t// http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16\n\t\t// https://www.google.com/maps/@37.7852006,-122.4146355,14.65z\n\t\t// https://www.google.com/maps/place/Googleplex/@37.4220041,-122.0833494,17z/data=!4m5!3m4!1s0x0:0x6c296c66619367e0!8m2!3d37.4219998!4d-122.0840572\n\t\tgmap_place : {\n\t\t\tmatcher : /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(((maps\\/(place\\/(.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(\\?ll=))(.*)?/i,\n\t\t\ttype    : 'iframe',\n\t\t\turl     : function (rez) {\n\t\t\t\treturn '//maps.google.' + rez[2] + '/?ll=' + ( rez[9] ? rez[9] + '&z=' + Math.floor(  rez[10]  ) + ( rez[12] ? rez[12].replace(/^\\//, \"&\") : '' )  : rez[12] ) + '&output=' + ( rez[12] && rez[12].indexOf('layer=c') > 0 ? 'svembed' : 'embed' );\n\t\t\t}\n\t\t},\n\n\t\t// Examples:\n\t\t// https://www.google.com/maps/search/Empire+State+Building/\n\t\t// https://www.google.com/maps/search/?api=1&query=centurylink+field\n\t\t// https://www.google.com/maps/search/?api=1&query=47.5951518,-122.3316393\n\t\tgmap_search : {\n\t\t\tmatcher : /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(maps\\/search\\/)(.*)/i,\n\t\t\ttype    : 'iframe',\n\t\t\turl     : function (rez) {\n\t\t\t\treturn '//maps.google.' + rez[2] + '/maps?q=' + rez[5].replace('query=', 'q=').replace('api=1', '') + '&output=embed';\n\t\t\t}\n\t\t}\n\t};\n\n\t$(document).on('objectNeedsType.fb', function (e, instance, item) {\n\n\t\tvar url\t = item.src || '',\n\t\t\ttype = false,\n\t\t\tmedia,\n\t\t\tthumb,\n\t\t\trez,\n\t\t\tparams,\n\t\t\turlParams,\n\t\t\tparamObj,\n\t\t\tprovider;\n\n\t\tmedia = $.extend( true, {}, defaults, item.opts.media );\n\n\t\t// Look for any matching media type\n\t\t$.each(media, function ( providerName, providerOpts ) {\n\t\t\trez = url.match( providerOpts.matcher );\n\n\t\t\tif ( !rez ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttype     = providerOpts.type;\n\t\t\tparamObj = {};\n\n\t\t\tif ( providerOpts.paramPlace && rez[ providerOpts.paramPlace ] ) {\n\t\t\t\turlParams = rez[ providerOpts.paramPlace ];\n\n\t\t\t\tif ( urlParams[ 0 ] == '?' ) {\n\t\t\t\t\turlParams = urlParams.substring(1);\n\t\t\t\t}\n\n\t\t\t\turlParams = urlParams.split('&');\n\n\t\t\t\tfor ( var m = 0; m < urlParams.length; ++m ) {\n\t\t\t\t\tvar p = urlParams[ m ].split('=', 2);\n\n\t\t\t\t\tif ( p.length == 2 ) {\n\t\t\t\t\t\tparamObj[ p[0] ] = decodeURIComponent( p[1].replace(/\\+/g, \" \") );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tparams = $.extend( true, {}, providerOpts.params, item.opts[ providerName ], paramObj );\n\n\t\t\turl   = $.type( providerOpts.url ) === \"function\" ? providerOpts.url.call( this, rez, params, item ) : format( providerOpts.url, rez, params );\n\t\t\tthumb = $.type( providerOpts.thumb ) === \"function\" ? providerOpts.thumb.call( this, rez, params, item ) : format( providerOpts.thumb, rez );\n\n\t\t\tif ( providerName === 'vimeo' ) {\n\t\t\t\turl = url.replace('&%23', '#');\n\t\t\t}\n\n\t\t\treturn false;\n\t\t});\n\n\t\t// If it is found, then change content type and update the url\n\n\t\tif ( type ) {\n\t\t\titem.src  = url;\n\t\t\titem.type = type;\n\n\t\t\tif ( !item.opts.thumb && !( item.opts.$thumb && item.opts.$thumb.length ) ) {\n\t\t\t\titem.opts.thumb = thumb;\n\t\t\t}\n\n\t\t\tif ( type === 'iframe' ) {\n\t\t\t\t$.extend(true, item.opts, {\n\t\t\t\t\tiframe : {\n\t\t\t\t\t\tpreload : false,\n\t\t\t\t\t\tattr : {\n\t\t\t\t\t\t\tscrolling : \"no\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\titem.contentProvider = provider;\n\n\t\t\t\titem.opts.slideClass += ' fancybox-slide--' + ( provider == 'gmap_place' || provider == 'gmap_search' ? 'map' : 'video' );\n\t\t\t}\n\n\t\t} else if ( url ) {\n\t\t\titem.type = item.opts.defaultType;\n\t\t}\n\n\t});\n\n}( window.jQuery || jQuery ));\n\n// ==========================================================================\n//\n// Guestures\n// Adds touch guestures, handles click and tap events\n//\n// ==========================================================================\n;(function (window, document, $) {\n\t'use strict';\n\n\tvar requestAFrame = (function () {\n        return window.requestAnimationFrame ||\n                window.webkitRequestAnimationFrame ||\n                window.mozRequestAnimationFrame ||\n                window.oRequestAnimationFrame ||\n                // if all else fails, use setTimeout\n                function (callback) {\n                    return window.setTimeout(callback, 1000 / 60);\n                };\n    })();\n\n\n    var cancelAFrame = (function () {\n        return window.cancelAnimationFrame ||\n                window.webkitCancelAnimationFrame ||\n                window.mozCancelAnimationFrame ||\n                window.oCancelAnimationFrame ||\n                function (id) {\n                    window.clearTimeout(id);\n                };\n    })();\n\n\n\tvar pointers = function( e ) {\n\t\tvar result = [];\n\n\t\te = e.originalEvent || e || window.e;\n\t\te = e.touches && e.touches.length ? e.touches : ( e.changedTouches && e.changedTouches.length ? e.changedTouches : [ e ] );\n\n\t\tfor ( var key in e ) {\n\n\t\t\tif ( e[ key ].pageX ) {\n\t\t\t\tresult.push( { x : e[ key ].pageX, y : e[ key ].pageY } );\n\n\t\t\t} else if ( e[ key ].clientX ) {\n\t\t\t\tresult.push( { x : e[ key ].clientX, y : e[ key ].clientY } );\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tvar distance = function( point2, point1, what ) {\n\t\tif ( !point1 || !point2 ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tif ( what === 'x' ) {\n\t\t\treturn point2.x - point1.x;\n\n\t\t} else if ( what === 'y' ) {\n\t\t\treturn point2.y - point1.y;\n\t\t}\n\n\t\treturn Math.sqrt( Math.pow( point2.x - point1.x, 2 ) + Math.pow( point2.y - point1.y, 2 ) );\n\t};\n\n\tvar isClickable = function( $el ) {\n\n\t\tif ( $el.is('a,area,button,[role=\"button\"],input,label,select,summary,textarea') || $.isFunction( $el.get(0).onclick ) || $el.data('selectable') ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Check for attributes like data-fancybox-next or data-fancybox-close\n\t\tfor ( var i = 0, atts = $el[0].attributes, n = atts.length; i < n; i++ ) {\n            if ( atts[i].nodeName.substr(0, 14) === 'data-fancybox-' ) {\n                return true;\n            }\n        }\n\n\t \treturn false;\n\t};\n\n\tvar hasScrollbars = function( el ) {\n\t\tvar overflowY = window.getComputedStyle( el )['overflow-y'];\n\t\tvar overflowX = window.getComputedStyle( el )['overflow-x'];\n\n\t\tvar vertical   = (overflowY === 'scroll' || overflowY === 'auto') && el.scrollHeight > el.clientHeight;\n\t\tvar horizontal = (overflowX === 'scroll' || overflowX === 'auto') && el.scrollWidth > el.clientWidth;\n\n\t\treturn vertical || horizontal;\n\t};\n\n\tvar isScrollable = function ( $el ) {\n\t\tvar rez = false;\n\n\t\twhile ( true ) {\n\t\t\trez\t= hasScrollbars( $el.get(0) );\n\n\t\t\tif ( rez ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t$el = $el.parent();\n\n\t\t\tif ( !$el.length || $el.hasClass( 'fancybox-stage' ) || $el.is( 'body' ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn rez;\n\t};\n\n\n\tvar Guestures = function ( instance ) {\n\t\tvar self = this;\n\n\t\tself.instance = instance;\n\n\t\tself.$bg        = instance.$refs.bg;\n\t\tself.$stage     = instance.$refs.stage;\n\t\tself.$container = instance.$refs.container;\n\n\t\tself.destroy();\n\n\t\tself.$container.on( 'touchstart.fb.touch mousedown.fb.touch', $.proxy(self, 'ontouchstart') );\n\t};\n\n\tGuestures.prototype.destroy = function() {\n\t\tthis.$container.off( '.fb.touch' );\n\t};\n\n\tGuestures.prototype.ontouchstart = function( e ) {\n\t\tvar self = this;\n\n\t\tvar $target  = $( e.target );\n\t\tvar instance = self.instance;\n\t\tvar current  = instance.current;\n\t\tvar $content = current.$content;\n\n\t\tvar isTouchDevice = ( e.type == 'touchstart' );\n\n\t\t// Do not respond to both events\n\t\tif ( isTouchDevice ) {\n\t        self.$container.off( 'mousedown.fb.touch' );\n\t    }\n\n\t\t// Ignore clicks while zooming or closing\n\t\tif ( !current || self.instance.isAnimating || self.instance.isClosing ) {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\n\t\t\treturn;\n\t\t}\n\n\t\t// Ignore right click\n\t\tif ( e.originalEvent && e.originalEvent.button == 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Ignore taping on links, buttons, input elements\n\t\tif ( !$target.length || isClickable( $target ) || isClickable( $target.parent() ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Ignore clicks on the scrollbar\n\t\tif ( e.originalEvent.clientX > $target[0].clientWidth + $target.offset().left ) {\n\t\t\treturn;\n\t\t}\n\n\t\tself.startPoints = pointers( e );\n\n\t\t// Prevent zooming if already swiping\n\t\tif ( !self.startPoints || ( self.startPoints.length > 1 && instance.isSliding ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tself.$target  = $target;\n\t\tself.$content = $content;\n\t\tself.canTap   = true;\n\t\tself.opts     = current.opts.touch;\n\n\t\t$(document).off( '.fb.touch' );\n\n\t\t$(document).on( isTouchDevice ? 'touchend.fb.touch touchcancel.fb.touch' : 'mouseup.fb.touch mouseleave.fb.touch',  $.proxy(self, \"ontouchend\"));\n\t\t$(document).on( isTouchDevice ? 'touchmove.fb.touch' : 'mousemove.fb.touch',  $.proxy(self, \"ontouchmove\"));\n\n\t\tif ( !(self.opts || instance.canPan() ) || !( $target.is( self.$stage ) || self.$stage.find( $target ).length ) ) {\n\n\t\t\t// Prevent ghosting\n\t\t\tif ( $target.is('img') ) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\te.stopPropagation();\n\n\t\tif ( !( $.fancybox.isMobile && ( isScrollable( self.$target ) || isScrollable( self.$target.parent() ) ) ) ) {\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tself.canvasWidth  = Math.round( current.$slide[0].clientWidth );\n\t\tself.canvasHeight = Math.round( current.$slide[0].clientHeight );\n\n\t\tself.startTime = new Date().getTime();\n\t\tself.distanceX = self.distanceY = self.distance = 0;\n\n\t\tself.isPanning = false;\n\t\tself.isSwiping = false;\n\t\tself.isZooming = false;\n\n\t\tself.sliderStartPos  = self.sliderLastPos || { top: 0, left: 0 };\n\t\tself.contentStartPos = $.fancybox.getTranslate( self.$content );\n\t\tself.contentLastPos  = null;\n\n\t\tif ( self.startPoints.length === 1 && !self.isZooming ) {\n\t\t\tself.canTap = !instance.isSliding;\n\n\t\t\tif ( current.type === 'image' && ( self.contentStartPos.width > self.canvasWidth + 1 || self.contentStartPos.height > self.canvasHeight + 1 ) ) {\n\n\t\t\t\t$.fancybox.stop( self.$content );\n\n\t\t\t\tself.$content.css( 'transition-duration', '0ms' );\n\n\t\t\t\tself.isPanning = true;\n\n\t\t\t} else {\n\n\t\t\t\tself.isSwiping = true;\n\t\t\t}\n\n\t\t\tself.$container.addClass('fancybox-controls--isGrabbing');\n\t\t}\n\n\t\tif ( self.startPoints.length === 2 && !instance.isAnimating && !current.hasError && current.type === 'image' && ( current.isLoaded || current.$ghost ) ) {\n\t\t\tself.isZooming = true;\n\n\t\t\tself.isSwiping = false;\n\t\t\tself.isPanning = false;\n\n\t\t\t$.fancybox.stop( self.$content );\n\n\t\t\tself.$content.css( 'transition-duration', '0ms' );\n\n\t\t\tself.centerPointStartX = ( ( self.startPoints[0].x + self.startPoints[1].x ) * 0.5 ) - $(window).scrollLeft();\n\t\t\tself.centerPointStartY = ( ( self.startPoints[0].y + self.startPoints[1].y ) * 0.5 ) - $(window).scrollTop();\n\n\t\t\tself.percentageOfImageAtPinchPointX = ( self.centerPointStartX - self.contentStartPos.left ) / self.contentStartPos.width;\n\t\t\tself.percentageOfImageAtPinchPointY = ( self.centerPointStartY - self.contentStartPos.top  ) / self.contentStartPos.height;\n\n\t\t\tself.startDistanceBetweenFingers = distance( self.startPoints[0], self.startPoints[1] );\n\t\t}\n\n\t};\n\n\tGuestures.prototype.ontouchmove = function( e ) {\n\n\t\tvar self = this;\n\n\t\tself.newPoints = pointers( e );\n\n\t\tif ( $.fancybox.isMobile && ( isScrollable( self.$target ) || isScrollable( self.$target.parent() ) ) ) {\n\t\t\te.stopPropagation();\n\n\t\t\tself.canTap = false;\n\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !( self.opts || self.instance.canPan() ) || !self.newPoints || !self.newPoints.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tself.distanceX = distance( self.newPoints[0], self.startPoints[0], 'x' );\n\t\tself.distanceY = distance( self.newPoints[0], self.startPoints[0], 'y' );\n\n\t\tself.distance = distance( self.newPoints[0], self.startPoints[0] );\n\n\t\t// Skip false ontouchmove events (Chrome)\n\t\tif ( self.distance > 0 ) {\n\n\t\t\tif ( !( self.$target.is( self.$stage ) || self.$stage.find( self.$target ).length ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\n\t\t\tif ( self.isSwiping ) {\n\t\t\t\tself.onSwipe();\n\n\t\t\t} else if ( self.isPanning ) {\n\t\t\t\tself.onPan();\n\n\t\t\t} else if ( self.isZooming ) {\n\t\t\t\tself.onZoom();\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tGuestures.prototype.onSwipe = function() {\n\n\t\tvar self = this;\n\n\t\tvar swiping = self.isSwiping;\n\t\tvar left    = self.sliderStartPos.left || 0;\n\t\tvar angle;\n\n\t\tif ( swiping === true ) {\n\n\t\t\tif ( Math.abs( self.distance ) > 10 )  {\n\n\t\t\t\tself.canTap = false;\n\n\t\t\t\tif ( self.instance.group.length < 2 && self.opts.vertical ) {\n\t\t\t\t\tself.isSwiping  = 'y';\n\n\t\t\t\t} else if ( self.instance.isSliding || self.opts.vertical === false || ( self.opts.vertical === 'auto' && $( window ).width() > 800 ) ) {\n\t\t\t\t\tself.isSwiping  = 'x';\n\n\t\t\t\t} else {\n\t\t\t\t\tangle = Math.abs( Math.atan2( self.distanceY, self.distanceX ) * 180 / Math.PI );\n\n\t\t\t\t\tself.isSwiping = ( angle > 45 && angle < 135 ) ? 'y' : 'x';\n\t\t\t\t}\n\n\t\t\t\tself.instance.isSliding = self.isSwiping;\n\n\t\t\t\t// Reset points to avoid jumping, because we dropped first swipes to calculate the angle\n\t\t\t\tself.startPoints = self.newPoints;\n\n\t\t\t\t$.each(self.instance.slides, function( index, slide ) {\n\t\t\t\t\t$.fancybox.stop( slide.$slide );\n\n\t\t\t\t\tslide.$slide.css( 'transition-duration', '0ms' );\n\n\t\t\t\t\tslide.inTransition = false;\n\n\t\t\t\t\tif ( slide.pos === self.instance.current.pos ) {\n\t\t\t\t\t\tself.sliderStartPos.left = $.fancybox.getTranslate( slide.$slide ).left;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t//self.instance.current.isMoved = true;\n\n\t\t\t\t// Stop slideshow\n\t\t\t\tif ( self.instance.SlideShow && self.instance.SlideShow.isActive ) {\n\t\t\t\t\tself.instance.SlideShow.stop();\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( swiping == 'x' ) {\n\n\t\t\t\t// Sticky edges\n\t\t\t\tif ( self.distanceX > 0 && ( self.instance.group.length < 2 || ( self.instance.current.index === 0 && !self.instance.current.opts.loop ) ) ) {\n\t\t\t\t\tleft = left + Math.pow( self.distanceX, 0.8 );\n\n\t\t\t\t} else if ( self.distanceX < 0 && ( self.instance.group.length < 2 || ( self.instance.current.index === self.instance.group.length - 1 && !self.instance.current.opts.loop ) ) ) {\n\t\t\t\t\tleft = left - Math.pow( -self.distanceX, 0.8 );\n\n\t\t\t\t} else {\n\t\t\t\t\tleft = left + self.distanceX;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tself.sliderLastPos = {\n\t\t\t\ttop  : swiping == 'x' ? 0 : self.sliderStartPos.top + self.distanceY,\n\t\t\t\tleft : left\n\t\t\t};\n\n\t\t\tif ( self.requestId ) {\n\t\t\t\tcancelAFrame( self.requestId );\n\n\t\t\t\tself.requestId = null;\n\t\t\t}\n\n\t\t\tself.requestId = requestAFrame(function() {\n\n\t\t\t\tif ( self.sliderLastPos ) {\n\t\t\t\t\t$.each(self.instance.slides, function( index, slide ) {\n\t\t\t\t\t\tvar pos = slide.pos - self.instance.currPos;\n\n\t\t\t\t\t\t$.fancybox.setTranslate( slide.$slide, {\n\t\t\t\t\t\t\ttop  : self.sliderLastPos.top,\n\t\t\t\t\t\t\tleft : self.sliderLastPos.left + ( pos * self.canvasWidth ) + ( pos * slide.opts.gutter )\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tself.$container.addClass( 'fancybox-is-sliding' );\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t}\n\n\t};\n\n\tGuestures.prototype.onPan = function() {\n\n\t\tvar self = this;\n\n\t\tvar newOffsetX, newOffsetY, newPos;\n\n\t\tself.canTap = false;\n\n\t\tif ( self.contentStartPos.width > self.canvasWidth ) {\n\t\t\tnewOffsetX = self.contentStartPos.left + self.distanceX;\n\n\t\t} else {\n\t\t\tnewOffsetX = self.contentStartPos.left;\n\t\t}\n\n\t\tnewOffsetY = self.contentStartPos.top + self.distanceY;\n\n\t\tnewPos = self.limitMovement( newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height );\n\n\t\tnewPos.scaleX = self.contentStartPos.scaleX;\n\t\tnewPos.scaleY = self.contentStartPos.scaleY;\n\n\t\tself.contentLastPos = newPos;\n\n\t\tif ( self.requestId ) {\n\t\t\tcancelAFrame( self.requestId );\n\n\t\t\tself.requestId = null;\n\t\t}\n\n\t\tself.requestId = requestAFrame(function() {\n\t\t\t$.fancybox.setTranslate( self.$content, self.contentLastPos );\n\t\t});\n\t};\n\n\t// Make panning sticky to the edges\n\tGuestures.prototype.limitMovement = function( newOffsetX, newOffsetY, newWidth, newHeight ) {\n\n\t\tvar self = this;\n\n\t\tvar minTranslateX, minTranslateY, maxTranslateX, maxTranslateY;\n\n\t\tvar canvasWidth  = self.canvasWidth;\n\t\tvar canvasHeight = self.canvasHeight;\n\n\t\tvar currentOffsetX = self.contentStartPos.left;\n\t\tvar currentOffsetY = self.contentStartPos.top;\n\n\t\tvar distanceX = self.distanceX;\n\t\tvar distanceY = self.distanceY;\n\n\t\t// Slow down proportionally to traveled distance\n\n\t\tminTranslateX = Math.max(0, canvasWidth  * 0.5 - newWidth  * 0.5 );\n\t\tminTranslateY = Math.max(0, canvasHeight * 0.5 - newHeight * 0.5 );\n\n\t\tmaxTranslateX = Math.min( canvasWidth  - newWidth,  canvasWidth  * 0.5 - newWidth  * 0.5 );\n\t\tmaxTranslateY = Math.min( canvasHeight - newHeight, canvasHeight * 0.5 - newHeight * 0.5 );\n\n\t\tif ( newWidth > canvasWidth ) {\n\n\t\t\t//   ->\n\t\t\tif ( distanceX > 0 && newOffsetX > minTranslateX ) {\n\t\t\t\tnewOffsetX = minTranslateX - 1 + Math.pow( -minTranslateX + currentOffsetX + distanceX, 0.8 ) || 0;\n\t\t\t}\n\n\t\t\t//    <-\n\t\t\tif ( distanceX  < 0 && newOffsetX < maxTranslateX ) {\n\t\t\t\tnewOffsetX = maxTranslateX + 1 - Math.pow( maxTranslateX - currentOffsetX - distanceX, 0.8 ) || 0;\n\t\t\t}\n\n\t\t}\n\n\t\tif ( newHeight > canvasHeight ) {\n\n\t\t\t//   \\/\n\t\t\tif ( distanceY > 0 && newOffsetY > minTranslateY ) {\n\t\t\t\tnewOffsetY = minTranslateY - 1 + Math.pow(-minTranslateY + currentOffsetY + distanceY, 0.8 ) || 0;\n\t\t\t}\n\n\t\t\t//   /\\\n\t\t\tif ( distanceY < 0 && newOffsetY < maxTranslateY ) {\n\t\t\t\tnewOffsetY = maxTranslateY + 1 - Math.pow ( maxTranslateY - currentOffsetY - distanceY, 0.8 ) || 0;\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttop  : newOffsetY,\n\t\t\tleft : newOffsetX\n\t\t};\n\n\t};\n\n\n\tGuestures.prototype.limitPosition = function( newOffsetX, newOffsetY, newWidth, newHeight ) {\n\n\t\tvar self = this;\n\n\t\tvar canvasWidth  = self.canvasWidth;\n\t\tvar canvasHeight = self.canvasHeight;\n\n\t\tif ( newWidth > canvasWidth ) {\n\t\t\tnewOffsetX = newOffsetX > 0 ? 0 : newOffsetX;\n\t\t\tnewOffsetX = newOffsetX < canvasWidth - newWidth ? canvasWidth - newWidth : newOffsetX;\n\n\t\t} else {\n\n\t\t\t// Center horizontally\n\t\t\tnewOffsetX = Math.max( 0, canvasWidth / 2 - newWidth / 2 );\n\n\t\t}\n\n\t\tif ( newHeight > canvasHeight ) {\n\t\t\tnewOffsetY = newOffsetY > 0 ? 0 : newOffsetY;\n\t\t\tnewOffsetY = newOffsetY < canvasHeight - newHeight ? canvasHeight - newHeight : newOffsetY;\n\n\t\t} else {\n\n\t\t\t// Center vertically\n\t\t\tnewOffsetY = Math.max( 0, canvasHeight / 2 - newHeight / 2 );\n\n\t\t}\n\n\t\treturn {\n\t\t\ttop  : newOffsetY,\n\t\t\tleft : newOffsetX\n\t\t};\n\n\t};\n\n\tGuestures.prototype.onZoom = function() {\n\n\t\tvar self = this;\n\n\t\t// Calculate current distance between points to get pinch ratio and new width and height\n\n\t\tvar currentWidth  = self.contentStartPos.width;\n\t\tvar currentHeight = self.contentStartPos.height;\n\n\t\tvar currentOffsetX = self.contentStartPos.left;\n\t\tvar currentOffsetY = self.contentStartPos.top;\n\n\t\tvar endDistanceBetweenFingers = distance( self.newPoints[0], self.newPoints[1] );\n\n\t\tvar pinchRatio = endDistanceBetweenFingers / self.startDistanceBetweenFingers;\n\n\t\tvar newWidth  = Math.floor( currentWidth  * pinchRatio );\n\t\tvar newHeight = Math.floor( currentHeight * pinchRatio );\n\n\t\t// This is the translation due to pinch-zooming\n\t\tvar translateFromZoomingX = (currentWidth  - newWidth)  * self.percentageOfImageAtPinchPointX;\n\t\tvar translateFromZoomingY = (currentHeight - newHeight) * self.percentageOfImageAtPinchPointY;\n\n\t\t//Point between the two touches\n\n\t\tvar centerPointEndX = ((self.newPoints[0].x + self.newPoints[1].x) / 2) - $(window).scrollLeft();\n\t\tvar centerPointEndY = ((self.newPoints[0].y + self.newPoints[1].y) / 2) - $(window).scrollTop();\n\n\t\t// And this is the translation due to translation of the centerpoint\n\t\t// between the two fingers\n\n\t\tvar translateFromTranslatingX = centerPointEndX - self.centerPointStartX;\n\t\tvar translateFromTranslatingY = centerPointEndY - self.centerPointStartY;\n\n\t\t// The new offset is the old/current one plus the total translation\n\n\t\tvar newOffsetX = currentOffsetX + ( translateFromZoomingX + translateFromTranslatingX );\n\t\tvar newOffsetY = currentOffsetY + ( translateFromZoomingY + translateFromTranslatingY );\n\n\t\tvar newPos = {\n\t\t\ttop    : newOffsetY,\n\t\t\tleft   : newOffsetX,\n\t\t\tscaleX : self.contentStartPos.scaleX * pinchRatio,\n\t\t\tscaleY : self.contentStartPos.scaleY * pinchRatio\n\t\t};\n\n\t\tself.canTap = false;\n\n\t\tself.newWidth  = newWidth;\n\t\tself.newHeight = newHeight;\n\n\t\tself.contentLastPos = newPos;\n\n\t\tif ( self.requestId ) {\n\t\t\tcancelAFrame( self.requestId );\n\n\t\t\tself.requestId = null;\n\t\t}\n\n\t\tself.requestId = requestAFrame(function() {\n\t\t\t$.fancybox.setTranslate( self.$content, self.contentLastPos );\n\t\t});\n\n\t};\n\n\tGuestures.prototype.ontouchend = function( e ) {\n\n\t\tvar self = this;\n\t\tvar dMs  = Math.max( (new Date().getTime() ) - self.startTime, 1);\n\n\t\tvar swiping = self.isSwiping;\n\t\tvar panning = self.isPanning;\n\t\tvar zooming = self.isZooming;\n\n\t\tself.endPoints = pointers( e );\n\n\t\tself.$container.removeClass( 'fancybox-controls--isGrabbing' );\n\n\t\t$(document).off( '.fb.touch' );\n\n\t\tif ( self.requestId ) {\n\t\t\tcancelAFrame( self.requestId );\n\n\t\t\tself.requestId = null;\n\t\t}\n\n\t\tself.isSwiping = false;\n\t\tself.isPanning = false;\n\t\tself.isZooming = false;\n\n\t\tif ( self.canTap )  {\n\t\t\treturn self.onTap( e );\n\t\t}\n\n\t\tself.speed = 366;\n\n\t\t// Speed in px/ms\n\t\tself.velocityX = self.distanceX / dMs * 0.5;\n\t\tself.velocityY = self.distanceY / dMs * 0.5;\n\n\t\tself.speedX = Math.max( self.speed * 0.5, Math.min( self.speed * 1.5, ( 1 / Math.abs( self.velocityX ) ) * self.speed ) );\n\n\t\tif ( panning ) {\n\t\t\tself.endPanning();\n\n\t\t} else if ( zooming ) {\n\t\t\tself.endZooming();\n\n\t\t} else {\n\t\t\tself.endSwiping( swiping );\n\t\t}\n\n\t\treturn;\n\t};\n\n\tGuestures.prototype.endSwiping = function( swiping ) {\n\n\t\tvar self = this;\n\t\tvar ret = false;\n\n\t\tself.instance.isSliding = false;\n\t\tself.sliderLastPos      = null;\n\n\t\t// Close if swiped vertically / navigate if horizontally\n\t\tif ( swiping == 'y' && Math.abs( self.distanceY ) > 50 ) {\n\n\t\t\t// Continue vertical movement\n\t\t\t$.fancybox.animate( self.instance.current.$slide, {\n\t\t\t\ttop     : self.sliderStartPos.top + self.distanceY + ( self.velocityY * 150 ),\n\t\t\t\topacity : 0\n\t\t\t}, 150 );\n\n\t\t\tret = self.instance.close( true, 300 );\n\n\t\t} else if ( swiping == 'x' && self.distanceX > 50 && self.instance.group.length > 1 ) {\n\t\t\tret = self.instance.previous( self.speedX );\n\n\t\t} else if ( swiping == 'x' && self.distanceX < -50  && self.instance.group.length > 1 ) {\n\t\t\tret = self.instance.next( self.speedX );\n\t\t}\n\n\t\tif ( ret === false && ( swiping == 'x' || swiping == 'y' ) ) {\n\t\t\tself.instance.jumpTo( self.instance.current.index, 150 );\n\t\t}\n\n\t\tself.$container.removeClass( 'fancybox-is-sliding' );\n\n\t};\n\n\t// Limit panning from edges\n\t// ========================\n\n\tGuestures.prototype.endPanning = function() {\n\n\t\tvar self = this;\n\t\tvar newOffsetX, newOffsetY, newPos;\n\n\t\tif ( !self.contentLastPos ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( self.opts.momentum === false ) {\n\t\t\tnewOffsetX = self.contentLastPos.left;\n\t\t\tnewOffsetY = self.contentLastPos.top;\n\n\t\t} else {\n\n\t\t\t// Continue movement\n\t\t\tnewOffsetX = self.contentLastPos.left + ( self.velocityX * self.speed );\n\t\t\tnewOffsetY = self.contentLastPos.top  + ( self.velocityY * self.speed );\n\t\t}\n\n\t\tnewPos = self.limitPosition( newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height );\n\n\t\t newPos.width  = self.contentStartPos.width;\n\t\t newPos.height = self.contentStartPos.height;\n\n\t\t$.fancybox.animate( self.$content, newPos, 330 );\n\t};\n\n\n\tGuestures.prototype.endZooming = function() {\n\n\t\tvar self = this;\n\n\t\tvar current = self.instance.current;\n\n\t\tvar newOffsetX, newOffsetY, newPos, reset;\n\n\t\tvar newWidth  = self.newWidth;\n\t\tvar newHeight = self.newHeight;\n\n\t\tif ( !self.contentLastPos ) {\n\t\t\treturn;\n\t\t}\n\n\t\tnewOffsetX = self.contentLastPos.left;\n\t\tnewOffsetY = self.contentLastPos.top;\n\n\t\treset = {\n\t\t   \ttop    : newOffsetY,\n\t\t   \tleft   : newOffsetX,\n\t\t   \twidth  : newWidth,\n\t\t   \theight : newHeight,\n\t\t\tscaleX : 1,\n\t\t\tscaleY : 1\n\t   };\n\n\t   // Reset scalex/scaleY values; this helps for perfomance and does not break animation\n\t   $.fancybox.setTranslate( self.$content, reset );\n\n\t\tif ( newWidth < self.canvasWidth && newHeight < self.canvasHeight ) {\n\t\t\tself.instance.scaleToFit( 150 );\n\n\t\t} else if ( newWidth > current.width || newHeight > current.height ) {\n\t\t\tself.instance.scaleToActual( self.centerPointStartX, self.centerPointStartY, 150 );\n\n\t\t} else {\n\n\t\t\tnewPos = self.limitPosition( newOffsetX, newOffsetY, newWidth, newHeight );\n\n\t\t\t// Switch from scale() to width/height or animation will not work correctly\n\t\t\t$.fancybox.setTranslate( self.content, $.fancybox.getTranslate( self.$content ) );\n\n\t\t\t$.fancybox.animate( self.$content, newPos, 150 );\n\t\t}\n\n\t};\n\n\tGuestures.prototype.onTap = function(e) {\n\t\tvar self    = this;\n\t\tvar $target = $( e.target );\n\n\t\tvar instance = self.instance;\n\t\tvar current  = instance.current;\n\n\t\tvar endPoints = ( e && pointers( e ) ) || self.startPoints;\n\n\t\tvar tapX = endPoints[0] ? endPoints[0].x - self.$stage.offset().left : 0;\n\t\tvar tapY = endPoints[0] ? endPoints[0].y - self.$stage.offset().top  : 0;\n\n\t\tvar where;\n\n\t\tvar process = function ( prefix ) {\n\n\t\t\tvar action = current.opts[ prefix ];\n\n\t\t\tif ( $.isFunction( action ) ) {\n\t\t\t\taction = action.apply( instance, [ current, e ] );\n\t\t\t}\n\n\t\t\tif ( !action) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase \"close\" :\n\n\t\t\t\t\tinstance.close( self.startEvent );\n\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"toggleControls\" :\n\n\t\t\t\t\tinstance.toggleControls( true );\n\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"next\" :\n\n\t\t\t\t\tinstance.next();\n\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"nextOrClose\" :\n\n\t\t\t\t\tif ( instance.group.length > 1 ) {\n\t\t\t\t\t\tinstance.next();\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinstance.close( self.startEvent );\n\t\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"zoom\" :\n\n\t\t\t\t\tif ( current.type == 'image' && ( current.isLoaded || current.$ghost ) ) {\n\n\t\t\t\t\t\tif ( instance.canPan() ) {\n\t\t\t\t\t\t\tinstance.scaleToFit();\n\n\t\t\t\t\t\t} else if ( instance.isScaledDown() ) {\n\t\t\t\t\t\t\tinstance.scaleToActual( tapX, tapY );\n\n\t\t\t\t\t\t} else if ( instance.group.length < 2 ) {\n\t\t\t\t\t\t\tinstance.close( self.startEvent );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t};\n\n\t\t// Ignore right click\n\t\tif ( e.originalEvent && e.originalEvent.button == 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Skip if current slide is not in the center\n\t\tif ( instance.isSliding ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Skip if clicked on the scrollbar\n\t\tif ( tapX > $target[0].clientWidth + $target.offset().left ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Check where is clicked\n\t\tif ( $target.is( '.fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container' ) ) {\n\t\t\twhere = 'Outside';\n\n\t\t} else if ( $target.is( '.fancybox-slide' ) ) {\n\t\t\twhere = 'Slide';\n\n\t\t} else if  ( instance.current.$content && instance.current.$content.has( e.target ).length ) {\n\t\t \twhere = 'Content';\n\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if this is a double tap\n\t\tif ( self.tapped ) {\n\n\t\t\t// Stop previously created single tap\n\t\t\tclearTimeout( self.tapped );\n\t\t\tself.tapped = null;\n\n\t\t\t// Skip if distance between taps is too big\n\t\t\tif ( Math.abs( tapX - self.tapX ) > 50 || Math.abs( tapY - self.tapY ) > 50 || instance.isSliding ) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\t// OK, now we assume that this is a double-tap\n\t\t\tprocess( 'dblclick' + where );\n\n\t\t} else {\n\n\t\t\t// Single tap will be processed if user has not clicked second time within 300ms\n\t\t\t// or there is no need to wait for double-tap\n\t\t\tself.tapX = tapX;\n\t\t\tself.tapY = tapY;\n\n\t\t\tif ( current.opts[ 'dblclick' + where ] && current.opts[ 'dblclick' + where ] !== current.opts[ 'click' + where ] ) {\n\t\t\t\tself.tapped = setTimeout(function() {\n\t\t\t\t\tself.tapped = null;\n\n\t\t\t\t\tprocess( 'click' + where );\n\n\t\t\t\t}, 300);\n\n\t\t\t} else {\n\t\t\t\tprocess( 'click' + where );\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\t};\n\n\t$(document).on('onActivate.fb', function (e, instance) {\n\t\tif ( instance && !instance.Guestures ) {\n\t\t\tinstance.Guestures = new Guestures( instance );\n\t\t}\n\t});\n\n\t$(document).on('beforeClose.fb', function (e, instance) {\n\t\tif ( instance && instance.Guestures ) {\n\t\t\tinstance.Guestures.destroy();\n\t\t}\n\t});\n\n\n}( window, document, window.jQuery || jQuery ));\n\n// ==========================================================================\n//\n// SlideShow\n// Enables slideshow functionality\n//\n// Example of usage:\n// $.fancybox.getInstance().SlideShow.start()\n//\n// ==========================================================================\n;(function (document, $) {\n\t'use strict';\n\n\t$.extend(true, $.fancybox.defaults, {\n\t\tbtnTpl : {\n\t\t\tslideShow :\n\t\t\t\t'<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\">' +\n\t\t\t\t\t'<svg viewBox=\"0 0 40 40\">' +\n\t\t\t\t\t\t'<path d=\"M13,12 L27,20 L13,27 Z\" />' +\n\t\t\t\t\t\t'<path d=\"M15,10 v19 M23,10 v19\" />' +\n\t\t\t\t\t'</svg>' +\n\t\t\t\t'</button>'\n\t\t},\n\t\tslideShow : {\n\t\t\tautoStart : false,\n            speed     : 3000\n\t\t}\n\t});\n\n\tvar SlideShow = function( instance ) {\n\t\tthis.instance = instance;\n\t\tthis.init();\n\t};\n\n\t$.extend( SlideShow.prototype, {\n\t\ttimer    : null,\n\t\tisActive : false,\n\t\t$button  : null,\n\n\t\tinit : function() {\n\t\t\tvar self = this;\n\n\t\t\tself.$button = self.instance.$refs.toolbar.find('[data-fancybox-play]').on('click', function() {\n\t\t\t\tself.toggle();\n\t\t\t});\n\n\t\t\tif ( self.instance.group.length < 2 || !self.instance.group[ self.instance.currIndex ].opts.slideShow ) {\n\t\t\t\tself.$button.hide();\n\t\t\t}\n\t\t},\n\n\t\tset : function( force ) {\n\t\t\tvar self = this;\n\n\t\t\t// Check if reached last element\n\t\t\tif ( self.instance && self.instance.current && (force === true || self.instance.current.opts.loop || self.instance.currIndex < self.instance.group.length - 1 )) {\n\t\t\t\tself.timer = setTimeout(function() {\n\t\t\t\t\tif ( self.isActive ) {\n\t\t\t\t\t\tself.instance.jumpTo( (self.instance.currIndex + 1) % self.instance.group.length );\n\t\t\t\t\t}\n\n\t\t\t\t}, self.instance.current.opts.slideShow.speed);\n\n\t\t\t} else {\n\t\t\t\tself.stop();\n\t\t\t\tself.instance.idleSecondsCounter = 0;\n\t\t\t\tself.instance.showControls();\n\t\t\t}\n\t\t},\n\n\t\tclear : function() {\n\t\t\tvar self = this;\n\n\t\t\tclearTimeout( self.timer );\n\n\t\t\tself.timer = null;\n\t\t},\n\n\t\tstart : function() {\n\t\t\tvar self = this;\n\t\t\tvar current = self.instance.current;\n\n\t\t\tif ( current ) {\n\t\t\t\tself.isActive = true;\n\n\t\t\t\tself.$button\n\t\t\t\t\t.attr( 'title', current.opts.i18n[ current.opts.lang ].PLAY_STOP )\n\t\t\t\t\t.removeClass( 'fancybox-button--play' )\n\t\t\t\t\t.addClass( 'fancybox-button--pause' );\n\n\t\t\t\t\tself.set( true );\n\t\t\t}\n\t\t},\n\n\t\tstop : function() {\n\t\t\tvar self = this;\n\t\t\tvar current = self.instance.current;\n\n\t\t\tself.clear();\n\n\t\t\tself.$button\n\t\t\t\t.attr( 'title', current.opts.i18n[ current.opts.lang ].PLAY_START )\n\t\t\t\t.removeClass( 'fancybox-button--pause' )\n\t\t\t\t.addClass( 'fancybox-button--play' );\n\n\t\t\tself.isActive = false;\n\t\t},\n\n\t\ttoggle : function() {\n\t\t\tvar self = this;\n\n\t\t\tif ( self.isActive ) {\n\t\t\t\tself.stop();\n\n\t\t\t} else {\n\t\t\t\tself.start();\n\t\t\t}\n\t\t}\n\n\t});\n\n\t$(document).on({\n\t\t'onInit.fb' : function(e, instance) {\n\t\t\tif ( instance && !instance.SlideShow ) {\n\t\t\t\tinstance.SlideShow = new SlideShow( instance );\n\t\t\t}\n\t\t},\n\n\t\t'beforeShow.fb' : function(e, instance, current, firstRun) {\n\t\t\tvar SlideShow = instance && instance.SlideShow;\n\n\t\t\tif ( firstRun ) {\n\n\t\t\t\tif ( SlideShow && current.opts.slideShow.autoStart ) {\n\t\t\t\t\tSlideShow.start();\n\t\t\t\t}\n\n\t\t\t} else if ( SlideShow && SlideShow.isActive )  {\n\t\t\t\tSlideShow.clear();\n\t\t\t}\n\t\t},\n\n\t\t'afterShow.fb' : function(e, instance, current) {\n\t\t\tvar SlideShow = instance && instance.SlideShow;\n\n\t\t\tif ( SlideShow && SlideShow.isActive ) {\n\t\t\t\tSlideShow.set();\n\t\t\t}\n\t\t},\n\n\t\t'afterKeydown.fb' : function(e, instance, current, keypress, keycode) {\n\t\t\tvar SlideShow = instance && instance.SlideShow;\n\n\t\t\t// \"P\" or Spacebar\n\t\t\tif ( SlideShow && current.opts.slideShow && ( keycode === 80 || keycode === 32 ) && !$(document.activeElement).is( 'button,a,input' ) ) {\n\t\t\t\tkeypress.preventDefault();\n\n\t\t\t\tSlideShow.toggle();\n\t\t\t}\n\t\t},\n\n\t\t'beforeClose.fb onDeactivate.fb' : function(e, instance) {\n\t\t\tvar SlideShow = instance && instance.SlideShow;\n\n\t\t\tif ( SlideShow ) {\n\t\t\t\tSlideShow.stop();\n\t\t\t}\n\t\t}\n\t});\n\n\t// Page Visibility API to pause slideshow when window is not active\n\t$(document).on(\"visibilitychange\", function() {\n\t\tvar instance  = $.fancybox.getInstance();\n\t\tvar SlideShow = instance && instance.SlideShow;\n\n\t\tif ( SlideShow && SlideShow.isActive ) {\n\t\t\tif ( document.hidden ) {\n\t\t\t\tSlideShow.clear();\n\n\t\t\t} else {\n\t\t\t\tSlideShow.set();\n\t\t\t}\n\t\t}\n\t});\n\n}( document, window.jQuery || jQuery ));\n\n// ==========================================================================\n//\n// FullScreen\n// Adds fullscreen functionality\n//\n// ==========================================================================\n;(function (document, $) {\n\t'use strict';\n\n\t// Collection of methods supported by user browser\n\tvar fn = (function () {\n\n\t\tvar fnMap = [\n\t\t\t[\n\t\t\t\t'requestFullscreen',\n\t\t\t\t'exitFullscreen',\n\t\t\t\t'fullscreenElement',\n\t\t\t\t'fullscreenEnabled',\n\t\t\t\t'fullscreenchange',\n\t\t\t\t'fullscreenerror'\n\t\t\t],\n\t\t\t// new WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullscreen',\n\t\t\t\t'webkitExitFullscreen',\n\t\t\t\t'webkitFullscreenElement',\n\t\t\t\t'webkitFullscreenEnabled',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t// old WebKit (Safari 5.1)\n\t\t\t[\n\t\t\t\t'webkitRequestFullScreen',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitCurrentFullScreenElement',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t[\n\t\t\t\t'mozRequestFullScreen',\n\t\t\t\t'mozCancelFullScreen',\n\t\t\t\t'mozFullScreenElement',\n\t\t\t\t'mozFullScreenEnabled',\n\t\t\t\t'mozfullscreenchange',\n\t\t\t\t'mozfullscreenerror'\n\t\t\t],\n\t\t\t[\n\t\t\t\t'msRequestFullscreen',\n\t\t\t\t'msExitFullscreen',\n\t\t\t\t'msFullscreenElement',\n\t\t\t\t'msFullscreenEnabled',\n\t\t\t\t'MSFullscreenChange',\n\t\t\t\t'MSFullscreenError'\n\t\t\t]\n\t\t];\n\n\t\tvar val;\n\t\tvar ret = {};\n\t\tvar i, j;\n\n\t\tfor ( i = 0; i < fnMap.length; i++ ) {\n\t\t\tval = fnMap[ i ];\n\n\t\t\tif ( val && val[ 1 ] in document ) {\n\t\t\t\tfor ( j = 0; j < val.length; j++ ) {\n\t\t\t\t\tret[ fnMap[ 0 ][ j ] ] = val[ j ];\n\t\t\t\t}\n\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})();\n\n\t// If browser does not have Full Screen API, then simply unset default button template and stop\n\tif ( !fn ) {\n\n\t\tif ( $ && $.fancybox ) {\n\t\t\t$.fancybox.defaults.btnTpl.fullScreen = false;\n\t\t}\n\n\t\treturn;\n\t}\n\n\tvar FullScreen = {\n\n\t\trequest : function ( elem ) {\n\n\t\t\telem = elem || document.documentElement;\n\n\t\t\telem[ fn.requestFullscreen ]( elem.ALLOW_KEYBOARD_INPUT );\n\n\t\t},\n\t\texit : function () {\n\n\t\t\tdocument[ fn.exitFullscreen ]();\n\n\t\t},\n\t\ttoggle : function ( elem ) {\n\n\t\t\telem = elem || document.documentElement;\n\n\t\t\tif ( this.isFullscreen() ) {\n\t\t\t\tthis.exit();\n\n\t\t\t} else {\n\t\t\t\tthis.request( elem );\n\t\t\t}\n\n\t\t},\n\t\tisFullscreen : function()  {\n\n\t\t\treturn Boolean( document[ fn.fullscreenElement ] );\n\n\t\t},\n\t\tenabled : function()  {\n\n\t\t\treturn Boolean( document[ fn.fullscreenEnabled ] );\n\n\t\t}\n\t};\n\n\t$.extend(true, $.fancybox.defaults, {\n\t\tbtnTpl : {\n\t\t\tfullScreen :\n\t\t\t\t'<button data-fancybox-fullscreen class=\"fancybox-button fancybox-button--fullscreen\" title=\"{{FULL_SCREEN}}\">' +\n\t\t\t\t\t'<svg viewBox=\"0 0 40 40\">' +\n\t\t\t\t\t\t'<path d=\"M9,12 h22 v16 h-22 v-16 v16 h22 v-16 Z\" />' +\n\t\t\t\t\t'</svg>' +\n\t\t\t\t'</button>'\n\t\t},\n\t\tfullScreen : {\n\t\t\tautoStart : false\n\t\t}\n\t});\n\n\t$(document).on({\n\t\t'onInit.fb' : function(e, instance) {\n\t\t\tvar $container;\n\n\t\t\tif ( instance && instance.group[ instance.currIndex ].opts.fullScreen ) {\n\t\t\t\t$container = instance.$refs.container;\n\n\t\t\t\t$container.on('click.fb-fullscreen', '[data-fancybox-fullscreen]', function(e) {\n\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tFullScreen.toggle( $container[ 0 ] );\n\n\t\t\t\t});\n\n\t\t\t\tif ( instance.opts.fullScreen && instance.opts.fullScreen.autoStart === true ) {\n\t\t\t\t\tFullScreen.request( $container[ 0 ] );\n\t\t\t\t}\n\n\t\t\t\t// Expose API\n\t\t\t\tinstance.FullScreen = FullScreen;\n\n\t\t\t} else if ( instance ) {\n\t\t\t\tinstance.$refs.toolbar.find('[data-fancybox-fullscreen]').hide();\n\t\t\t}\n\n\t\t},\n\n\t\t'afterKeydown.fb' : function(e, instance, current, keypress, keycode) {\n\n\t\t\t// \"P\" or Spacebar\n\t\t\tif ( instance && instance.FullScreen && keycode === 70 ) {\n\t\t\t\tkeypress.preventDefault();\n\n\t\t\t\tinstance.FullScreen.toggle( instance.$refs.container[ 0 ] );\n\t\t\t}\n\n\t\t},\n\n\t\t'beforeClose.fb' : function( instance ) {\n\t\t\tif ( instance && instance.FullScreen ) {\n\t\t\t\tFullScreen.exit();\n\t\t\t}\n\t\t}\n\t});\n\n\t$(document).on(fn.fullscreenchange, function() {\n\t\tvar isFullscreen = FullScreen.isFullscreen(),\n\t\t\tinstance = $.fancybox.getInstance();\n\n\t\tif ( instance ) {\n\n\t\t\t// If image is zooming, then force to stop and reposition properly\n\t\t\tif ( instance.current && instance.current.type === 'image' && instance.isAnimating ) {\n\t\t\t\tinstance.current.$content.css( 'transition', 'none' );\n\n\t\t\t\tinstance.isAnimating = false;\n\n\t\t\t\tinstance.update( true, true, 0 );\n\t\t\t}\n\n\t\t\tinstance.trigger( 'onFullscreenChange', isFullscreen );\n\n\t\t\tinstance.$refs.container.toggleClass( 'fancybox-is-fullscreen', isFullscreen );\n\t\t}\n\n\t});\n\n}( document, window.jQuery || jQuery ));\n\n// ==========================================================================\n//\n// Thumbs\n// Displays thumbnails in a grid\n//\n// ==========================================================================\n;(function (document, $) {\n\t'use strict';\n\n\t// Make sure there are default values\n\t$.fancybox.defaults = $.extend(true, {\n\t\tbtnTpl : {\n\t\t\tthumbs :\n\t\t\t'<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\">' +\n\t\t\t\t'<svg viewBox=\"0 0 120 120\">' +\n\t\t\t\t\t'<path d=\"M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z\" />' +\n\t\t\t\t'</svg>' +\n\t\t\t'</button>'\n\t\t},\n\t\tthumbs : {\n\t\t\tautoStart   : false,                  // Display thumbnails on opening\n\t\t\thideOnClose : true,                   // Hide thumbnail grid when closing animation starts\n\t\t\tparentEl    : '.fancybox-container',  // Container is injected into this element\n\t\t\taxis        : 'y'                     // Vertical (y) or horizontal (x)\n\t\t}\n\t}, $.fancybox.defaults);\n\n\tvar FancyThumbs = function( instance ) {\n\t\tthis.init( instance );\n\t};\n\n\t$.extend( FancyThumbs.prototype, {\n\n\t\t$button\t\t: null,\n\t\t$grid\t\t: null,\n\t\t$list\t\t: null,\n\t\tisVisible\t: false,\n\t\tisActive\t: false,\n\n\t\tinit : function( instance ) {\n\t\t\tvar self = this;\n\n\t\t\tself.instance = instance;\n\n\t\t\tinstance.Thumbs = self;\n\n\t\t\t// Enable thumbs if at least two group items have thumbnails\n\t\t\tvar first  = instance.group[0],\n\t\t\t\tsecond = instance.group[1];\n\n\t\t\tself.opts = instance.group[ instance.currIndex ].opts.thumbs;\n\n\t\t\tself.$button = instance.$refs.toolbar.find( '[data-fancybox-thumbs]' );\n\n\t\t\tif ( self.opts && first && second && (\n\t\t    \t\t( first.type == 'image'  || first.opts.thumb  || first.opts.$thumb ) &&\n\t\t    \t\t( second.type == 'image' || second.opts.thumb || second.opts.$thumb )\n\t\t\t)) {\n\n\t\t\t\tself.$button.show().on('click', function() {\n\t\t\t\t\tself.toggle();\n\t\t\t\t});\n\n\t\t\t\tself.isActive = true;\n\n\t\t\t} else {\n\t\t\t\tself.$button.hide();\n\t\t\t}\n\t\t},\n\n\t\tcreate : function() {\n\t\t\tvar self = this,\n\t\t\t\tinstance = self.instance,\n\t\t\t\tparentEl = self.opts.parentEl,\n\t\t\t\tlist,\n\t\t\t\tsrc;\n\n\t\t\tself.$grid = $('<div class=\"fancybox-thumbs fancybox-thumbs-' + self.opts.axis + '\"></div>').appendTo( instance.$refs.container.find( parentEl ).addBack().filter( parentEl ) );\n\n\t\t\t// Build list HTML\n\t\t\tlist = '<ul>';\n\n\t\t\t$.each(instance.group, function( i, item ) {\n\t\t\t\tsrc = item.opts.thumb || ( item.opts.$thumb ? item.opts.$thumb.attr( 'src' ) : null );\n\n\t\t\t\tif ( !src && item.type === 'image' ) {\n\t\t\t\t\tsrc = item.src;\n\t\t\t\t}\n\n\t\t\t\tif ( src && src.length ) {\n\t\t\t\t\tlist += '<li data-index=\"' + i + '\"  tabindex=\"0\" class=\"fancybox-thumbs-loading\"><img data-src=\"' + src + '\" /></li>';\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlist += '</ul>';\n\n\t\t\tself.$list = $( list ).appendTo( self.$grid ).on('click', 'li', function() {\n\t\t\t\tinstance.jumpTo( $(this).data('index') );\n\t\t\t});\n\n\t\t\tself.$list.find( 'img' ).hide().one('load', function() {\n\t\t\t\tvar $parent\t\t= $(this).parent().removeClass( 'fancybox-thumbs-loading' ),\n\t\t\t\t\tthumbWidth\t= $parent.outerWidth(),\n\t\t\t\t\tthumbHeight\t= $parent.outerHeight(),\n\t\t\t\t\twidth,\n\t\t\t\t\theight,\n\t\t\t\t\twidthRatio,\n\t\t\t\t\theightRatio;\n\n\t\t\t\twidth  = this.naturalWidth\t|| this.width;\n\t\t\t\theight = this.naturalHeight\t|| this.height;\n\n\t\t\t\t// Calculate thumbnail dimensions; center vertically and horizontally\n\t\t\t\twidthRatio  = width  / thumbWidth;\n\t\t\t\theightRatio = height / thumbHeight;\n\n\t\t\t\tif (widthRatio >= 1 && heightRatio >= 1) {\n\t\t\t\t\tif (widthRatio > heightRatio) {\n\t\t\t\t\t\twidth  = width / heightRatio;\n\t\t\t\t\t\theight = thumbHeight;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\twidth  = thumbWidth;\n\t\t\t\t\t\theight = height / widthRatio;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$(this).css({\n\t\t\t\t\twidth         : Math.floor(width),\n\t\t\t\t\theight        : Math.floor(height),\n\t\t\t\t\t'margin-top'  : height > thumbHeight ? ( Math.floor(thumbHeight * 0.3 - height * 0.3 ) ) : Math.floor(thumbHeight * 0.5 - height * 0.5 ),\n\t\t\t\t\t'margin-left' : Math.floor(thumbWidth * 0.5 - width * 0.5 )\n\t\t\t\t}).show();\n\n\t\t\t})\n\t\t\t.each(function() {\n\t\t\t\tthis.src = $( this ).data( 'src' );\n\t\t\t});\n\n\t\t\tif ( self.opts.axis === 'x' ) {\n\t\t\t\tself.$list.width( parseInt( self.$grid.css(\"padding-right\") ) + ( instance.group.length * self.$list.children().eq(0).outerWidth(true) ) + 'px' );\n\t\t\t}\n\t\t},\n\n\t\tfocus : function( duration ) {\n\t\t\tvar self = this,\n\t\t\t\t$list = self.$list,\n\t\t\t\tthumb,\n\t\t\t\tthumbPos;\n\n\t\t\tif ( self.instance.current ) {\n\t\t\t\tthumb = $list.children()\n\t\t\t\t\t.removeClass( 'fancybox-thumbs-active' )\n\t\t\t\t\t.filter('[data-index=\"' + self.instance.current.index  + '\"]')\n\t\t\t\t\t.addClass('fancybox-thumbs-active');\n\n\t\t\t\tthumbPos = thumb.position();\n\n\t\t\t\t// Check if need to scroll to make current thumb visible\n\t\t\t\tif ( self.opts.axis === 'y' && ( thumbPos.top < 0 || thumbPos.top > ( $list.height() - thumb.outerHeight() ) ) ) {\n\t\t\t\t\t$list.stop().animate({ 'scrollTop' : $list.scrollTop() + thumbPos.top }, duration);\n\n\t\t\t\t} else if ( self.opts.axis === 'x' && (\n\t\t\t\t\t\tthumbPos.left < $list.parent().scrollLeft() ||\n\t\t\t\t\t\tthumbPos.left > ( $list.parent().scrollLeft() + ( $list.parent().width() - thumb.outerWidth() ) )\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\t$list.parent().stop().animate({ 'scrollLeft' : thumbPos.left }, duration);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tupdate : function() {\n\t\t\tthis.instance.$refs.container.toggleClass( 'fancybox-show-thumbs', this.isVisible );\n\n\t\t\tif ( this.isVisible ) {\n\t\t\t\tif ( !this.$grid ) {\n\t\t\t\t\tthis.create();\n\t\t\t\t}\n\n\t\t\t\tthis.instance.trigger( 'onThumbsShow' );\n\n\t\t\t\tthis.focus( 0 );\n\n\t\t\t} else if ( this.$grid ) {\n\t\t\t\tthis.instance.trigger( 'onThumbsHide' );\n\t\t\t}\n\n\t\t\t// Update content position\n\t\t\tthis.instance.update();\n\t\t},\n\n\t\thide : function() {\n\t\t\tthis.isVisible = false;\n\t\t\tthis.update();\n\t\t},\n\n\t\tshow : function() {\n\t\t\tthis.isVisible = true;\n\t\t\tthis.update();\n\t\t},\n\n\t\ttoggle : function() {\n\t\t\tthis.isVisible = !this.isVisible;\n\t\t\tthis.update();\n\t\t}\n\t});\n\n\t$(document).on({\n\n\t\t'onInit.fb' : function(e, instance) {\n\t\t\tvar Thumbs;\n\n\t\t\tif ( instance && !instance.Thumbs ) {\n\t\t\t\tThumbs = new FancyThumbs( instance );\n\n\t\t\t\tif ( Thumbs.isActive && Thumbs.opts.autoStart === true ) {\n\t\t\t\t\tThumbs.show();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t'beforeShow.fb' : function(e, instance, item, firstRun) {\n\t\t\tvar Thumbs = instance && instance.Thumbs;\n\n\t\t\tif ( Thumbs && Thumbs.isVisible ) {\n\t\t\t\tThumbs.focus( firstRun ? 0 : 250 );\n\t\t\t}\n\t\t},\n\n\t\t'afterKeydown.fb' : function(e, instance, current, keypress, keycode) {\n\t\t\tvar Thumbs = instance && instance.Thumbs;\n\n\t\t\t// \"G\"\n\t\t\tif ( Thumbs && Thumbs.isActive && keycode === 71 ) {\n\t\t\t\tkeypress.preventDefault();\n\n\t\t\t\tThumbs.toggle();\n\t\t\t}\n\t\t},\n\n\t\t'beforeClose.fb' : function( e, instance ) {\n\t\t\tvar Thumbs = instance && instance.Thumbs;\n\n\t\t\tif ( Thumbs && Thumbs.isVisible && Thumbs.opts.hideOnClose !== false ) {\n\t\t\t\tThumbs.$grid.hide();\n\t\t\t}\n\t\t}\n\n\t});\n\n}(document, window.jQuery));\n\n//// ==========================================================================\n//\n// Share\n// Displays simple form for sharing current url\n//\n// ==========================================================================\n;(function (document, $) {\n\t'use strict';\n\n\t$.extend(true, $.fancybox.defaults, {\n\t\tbtnTpl : {\n\t\t\tshare :\n\t\t\t\t'<button data-fancybox-share class=\"fancybox-button fancybox-button--share\" title=\"{{SHARE}}\">' +\n\t\t\t\t\t'<svg viewBox=\"0 0 40 40\">' +\n\t\t\t\t\t\t'<path d=\"M6,30 C8,18 19,16 23,16 L23,16 L23,10 L33,20 L23,29 L23,24 C19,24 8,27 6,30 Z\">' +\n\t\t\t\t\t'</svg>' +\n\t\t\t\t'</button>'\n\t\t},\n\t\tshare : {\n\t\t\ttpl :\n\t\t\t\t'<div class=\"fancybox-share\">' +\n\t\t\t\t\t'<h1>{{SHARE}}</h1>' +\n\t\t\t\t\t'<p>' +\n\t\t\t\t\t\t'<a href=\"https://www.facebook.com/sharer/sharer.php?u={{src}}\" target=\"_blank\" class=\"fancybox-share_button\">' +\n\t\t\t\t\t\t\t'<svg version=\"1.1\" viewBox=\"0 0 32 32\" fill=\"#3b5998\"><path d=\"M27.6 3h-23.2c-.8 0-1.4.6-1.4 1.4v23.1c0 .9.6 1.5 1.4 1.5h12.5v-10.1h-3.4v-3.9h3.4v-2.9c0-3.4 2.1-5.2 5-5.2 1.4 0 2.7.1 3 .2v3.5h-2.1c-1.6 0-1.9.8-1.9 1.9v2.5h3.9l-.5 3.9h-3.4v10.1h6.6c.8 0 1.4-.6 1.4-1.4v-23.2c.1-.8-.5-1.4-1.3-1.4z\"></path></svg>' +\n\t\t\t\t\t\t\t'<span>Facebook</span>' +\n\t\t\t\t\t\t'</a>' +\n\t\t\t\t\t\t'<a href=\"https://www.pinterest.com/pin/create/button/?url={{src}}&amp;description={{descr}}\" target=\"_blank\" class=\"fancybox-share_button\">' +\n\t\t\t\t\t\t\t'<svg version=\"1.1\" viewBox=\"0 0 32 32\" fill=\"#c92228\"><path d=\"M16 3c-7.2 0-13 5.8-13 13 0 5.5 3.4 10.2 8.3 12.1-.1-1-.2-2.6 0-3.7.2-1 1.5-6.5 1.5-6.5s-.4-.8-.4-1.9c0-1.8 1-3.2 2.4-3.2 1.1 0 1.6.8 1.6 1.8 0 1.1-.7 2.8-1.1 4.3-.3 1.3.6 2.3 1.9 2.3 2.3 0 4.1-2.4 4.1-6 0-3.1-2.2-5.3-5.4-5.3-3.7 0-5.9 2.8-5.9 5.6 0 1.1.4 2.3 1 3 .1.1.1.2.1.4-.1.4-.3 1.3-.4 1.5-.1.2-.2.3-.4.2-1.6-.8-2.6-3.1-2.6-5 0-4.1 3-7.9 8.6-7.9 4.5 0 8 3.2 8 7.5 0 4.5-2.8 8.1-6.7 8.1-1.3 0-2.6-.7-3-1.5 0 0-.7 2.5-.8 3.1-.3 1.1-1.1 2.5-1.6 3.4 1.2.4 2.5.6 3.8.6 7.2 0 13-5.8 13-13 0-7.1-5.8-12.9-13-12.9z\"></path></svg>' +\n\t\t\t\t\t\t\t'<span>Pinterest</span>' +\n\t\t\t\t\t\t'</a>' +\n\t\t\t\t\t\t'<a href=\"https://twitter.com/intent/tweet?url={{src}}&amp;text={{descr}}\" target=\"_blank\" class=\"fancybox-share_button\">' +\n\t\t\t\t\t\t\t'<svg version=\"1.1\" viewBox=\"0 0 32 32\" fill=\"#1da1f2\"><path d=\"M30 7.3c-1 .5-2.1.8-3.3.9 1.2-.7 2.1-1.8 2.5-3.2-1.1.7-2.3 1.1-3.6 1.4-1-1.1-2.5-1.8-4.2-1.8-3.2 0-5.7 2.6-5.7 5.7 0 .5.1.9.1 1.3-4.8-.2-9-2.5-11.8-6-.5.9-.8 1.9-.8 3 0 2 1 3.8 2.6 4.8-.9 0-1.8-.3-2.6-.7v.1c0 2.8 2 5.1 4.6 5.6-.5.1-1 .2-1.5.2-.4 0-.7 0-1.1-.1.7 2.3 2.9 3.9 5.4 4-2 1.5-4.4 2.5-7.1 2.5-.5 0-.9 0-1.4-.1 2.5 1.6 5.6 2.6 8.8 2.6 10.6 0 16.3-8.8 16.3-16.3v-.7c1.1-1 2-2 2.8-3.2z\"></path></svg>' +\n\t\t\t\t\t\t\t'<span>Twitter</span>' +\n\t\t\t\t\t\t'</a>' +\n\t\t\t\t\t'</p>' +\n\t\t\t\t\t'<p><input type=\"text\" value=\"{{src_raw}}\" onfocus=\"this.select()\" /></p>' +\n\t\t\t\t'</div>'\n\t\t}\n\t});\n\n\t$(document).on('click', '[data-fancybox-share]', function() {\n\n\t\tvar f = $.fancybox.getInstance(),\n\t\t\turl,\n\t\t\ttpl;\n\n\t\tif ( f ) {\n\t\t\turl = f.current.opts.hash === false ? f.current.src : window.location;\n\t\t\ttpl = f.current.opts.share.tpl\n\t\t\t\t\t.replace( /\\{\\{src\\}\\}/g, encodeURIComponent( url ) )\n\t\t\t\t\t.replace( /\\{\\{src_raw\\}\\}/g, url )\n\t\t\t\t\t.replace( /\\{\\{descr\\}\\}/g, f.$caption ? encodeURIComponent( f.$caption.text() ) : '' );\n\n\t\t\t$.fancybox.open({\n\t\t\t\tsrc  : f.translate( f, tpl ),\n\t\t\t\ttype : 'html',\n\t\t\t\topts : {\n\t\t\t\t\tanimationEffect   : \"fade\",\n\t\t\t\t\tanimationDuration : 250\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t});\n\n}( document, window.jQuery || jQuery ));\n\n// ==========================================================================\n//\n// Hash\n// Enables linking to each modal\n//\n// ==========================================================================\n;(function (document, window, $) {\n\t'use strict';\n\n\t// Simple $.escapeSelector polyfill (for jQuery prior v3)\n\tif ( !$.escapeSelector ) {\n\t\t$.escapeSelector = function( sel ) {\n\t\t\tvar rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;\n\t\t\tvar fcssescape = function( ch, asCodePoint ) {\n\t\t\t\tif ( asCodePoint ) {\n\t\t\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\t\t\treturn \"\\uFFFD\";\n\t\t\t\t\t}\n\n\t\t\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t\t\t}\n\n\t\t\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\t\t\treturn \"\\\\\" + ch;\n\t\t\t};\n\n\t\t\treturn ( sel + \"\" ).replace( rcssescape, fcssescape );\n\t\t};\n\t}\n\n\t// Create new history entry only once\n\tvar shouldCreateHistory = true;\n\n\t// Variable containing last hash value set by fancyBox\n\t// It will be used to determine if fancyBox needs to close after hash change is detected\n    var currentHash = null;\n\n\t// Throttling the history change\n\tvar timerID = null;\n\n\t// Get info about gallery name and current index from url\n    function parseUrl() {\n        var hash    = window.location.hash.substr( 1 );\n        var rez     = hash.split( '-' );\n        var index   = rez.length > 1 && /^\\+?\\d+$/.test( rez[ rez.length - 1 ] ) ? parseInt( rez.pop( -1 ), 10 ) || 1 : 1;\n        var gallery = rez.join( '-' );\n\n\t\t// Index is starting from 1\n\t\tif ( index < 1 ) {\n\t\t\tindex = 1;\n\t\t}\n\n        return {\n            hash    : hash,\n            index   : index,\n            gallery : gallery\n        };\n    }\n\n\t// Trigger click evnt on links to open new fancyBox instance\n\tfunction triggerFromUrl( url ) {\n\t\tvar $el;\n\n        if ( url.gallery !== '' ) {\n\n\t\t\t// If we can find element matching 'data-fancybox' atribute, then trigger click event for that ..\n\t\t\t$el = $( \"[data-fancybox='\" + $.escapeSelector( url.gallery ) + \"']\" ).eq( url.index - 1 );\n\n            if ( !$el.length ) {\n\t\t\t\t// .. if not, try finding element by ID\n\t\t\t\t$el = $( \"#\" + $.escapeSelector( url.gallery ) + \"\" );\n\t\t\t}\n\n\t\t\tif ( $el.length ) {\n\t\t\t\tshouldCreateHistory = false;\n\n\t\t\t\t$el.trigger( 'click' );\n\t\t\t}\n\n        }\n\t}\n\n\t// Get gallery name from current instance\n\tfunction getGalleryID( instance ) {\n\t\tvar opts;\n\n\t\tif ( !instance ) {\n\t\t\treturn false;\n\t\t}\n\n\t\topts = instance.current ? instance.current.opts : instance.opts;\n\n\t\treturn opts.hash || ( opts.$orig ? opts.$orig.data( 'fancybox' ) : ''  );\n\t}\n\n\t// Start when DOM becomes ready\n    $(function() {\n\n\t\t// Check if user has disabled this module\n\t\tif ( $.fancybox.defaults.hash === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Update hash when opening/closing fancyBox\n\t    $(document).on({\n\t\t\t'onInit.fb' : function( e, instance ) {\n\t\t\t\tvar url, gallery;\n\n\t\t\t\tif ( instance.group[ instance.currIndex ].opts.hash === false ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\turl     = parseUrl();\n\t\t\t\tgallery = getGalleryID( instance );\n\n\t\t\t\t// Make sure gallery start index matches index from hash\n\t\t\t\tif ( gallery && url.gallery && gallery == url.gallery ) {\n\t\t\t\t\tinstance.currIndex = url.index - 1;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t'beforeShow.fb' : function( e, instance, current ) {\n\t\t\t\tvar gallery;\n\n\t\t\t\tif ( !current || current.opts.hash === false ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t            gallery = getGalleryID( instance );\n\n\t            // Update window hash\n\t            if ( gallery && gallery !== '' ) {\n\n\t\t\t\t\tif ( window.location.hash.indexOf( gallery ) < 0 ) {\n\t\t                instance.opts.origHash = window.location.hash;\n\t\t            }\n\n\t\t\t\t\tcurrentHash = gallery + ( instance.group.length > 1 ? '-' + ( current.index + 1 ) : '' );\n\n\t\t\t\t\tif ( 'replaceState' in window.history ) {\n\t\t\t\t\t\tif ( timerID ) {\n\t\t\t\t\t\t\tclearTimeout( timerID );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttimerID = setTimeout(function() {\n\t\t\t\t\t\t\twindow.history[ shouldCreateHistory ? 'pushState' : 'replaceState' ]( {} , document.title, window.location.pathname + window.location.search + '#' +  currentHash );\n\n\t\t\t\t\t\t\ttimerID = null;\n\n\t\t\t\t\t\t\tshouldCreateHistory = false;\n\n\t\t\t\t\t\t}, 300);\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\twindow.location.hash = currentHash;\n\t\t\t\t\t}\n\n\t            }\n\n\t        },\n\n\t\t\t'beforeClose.fb' : function( e, instance, current ) {\n\t\t\t\tvar gallery, origHash;\n\n\t\t\t\tif ( timerID ) {\n\t\t\t\t\tclearTimeout( timerID );\n\t\t\t\t}\n\n\t\t\t\tif ( current.opts.hash === false ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tgallery  = getGalleryID( instance );\n\t\t\t\torigHash = instance && instance.opts.origHash ? instance.opts.origHash : '';\n\n\t            // Remove hash from location bar\n\t            if ( gallery && gallery !== '' ) {\n\n\t                if ( 'replaceState' in history ) {\n\t\t\t\t\t\twindow.history.replaceState( {} , document.title, window.location.pathname + window.location.search + origHash );\n\n\t                } else {\n\t\t\t\t\t\twindow.location.hash = origHash;\n\n\t\t\t\t\t\t// Keep original scroll position\n\t\t\t\t\t\t$( window ).scrollTop( instance.scrollTop ).scrollLeft( instance.scrollLeft );\n\t                }\n\t            }\n\n\t\t\t\tcurrentHash = null;\n\t        }\n\t    });\n\n\t\t// Check if need to close after url has changed\n\t\t$(window).on('hashchange.fb', function() {\n\t\t\tvar url = parseUrl();\n\n\t\t\tif ( $.fancybox.getInstance() ) {\n\t\t\t\tif ( currentHash && currentHash !== url.gallery + '-' + url.index && !( url.index === 1 && currentHash == url.gallery ) ) {\n\t\t\t\t\tcurrentHash = null;\n\n\t\t\t\t\t$.fancybox.close();\n\t\t\t\t}\n\n\t\t\t} else if ( url.gallery !== '' ) {\n\t\t\t\ttriggerFromUrl( url );\n\t\t\t}\n\t\t});\n\n\t\t// Check current hash and trigger click event on matching element to start fancyBox, if needed\n\t\tsetTimeout(function() {\n\t\t\ttriggerFromUrl( parseUrl() );\n\t\t}, 50);\n    });\n\n}( document, window, window.jQuery || jQuery ));\n\n\n\n// WEBPACK FOOTER //\n// ./app/scripts/lib/jquery.fancybox.js"],"sourceRoot":""}